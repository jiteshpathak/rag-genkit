{"traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","spans":{"2da56ad88725514d":{"spanId":"2da56ad88725514d","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"cc63e25baa899cd0","startTime":1752353120426,"endTime":1752353121701.384,"attributes":{"genkit:type":"flowStep","genkit:name":"extract-text","genkit:path":"/{indexPage,t:flow}/{extract-text,t:flowStep}","genkit:output":"\"Today we announced the release of a plugin for Firebase's Genkit framework for building generative AI applications. Genkit is a powerful framework that provides the primitives for building production-quality GenAI applications. From easy access to models, prompts, indexers, and retrievers, to more advanced features like flows, traces, and evals, its power lies in making it easy to do the right thing while building GenAI applications.\\nIn this post, we'll take a look at how to use the Astra DB plugin for Genkit to build a retrieval-augmented generation application with Genkit.\\n\\nBuilding a RAG application\\nLet's build a RAG application from scratch and see how straightforward it can be with Genkit and Astra DB. First, you'll need a Gemini API key, which you can get from Google AI Studio.\\nYou’ll also need an Astra DB database to store your data and vectors; if you don't already have an account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and region. This takes a couple of minutes, so carry on with the next steps while it starts up.\\n\\nSetting up the app\\nCreate a directory for your app and install the dependencies you'll need:\\nCreate a file to work in:Open index.ts and import the dependencies you installed:\\nIn this case, we're pulling in Google's text-embedding-004 model for creating vector embeddings, and the Gemini Flash 2.0 model for generation.\\nIt's about time to create a collection in which we can store our vectors. Hopefully your database has been created now, so head to the DataStax dashboard, choose your database, open the Data Explorer, and create a collection. Give the collection a name and choose \\\"Bring my own\\\" for the embedding generation method. The text-embedding-004 model creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for the similarity metric.\\n\\nOnce you've created the collection, you'll need the API endpoint of the database, the collection name and to generate an API token.\\n\\nWith those, create a .env file in your application and enter the credentials:\\nAlso in the .env file, enter your API key from AI Studio too:Now we can configure Genkit. In index.ts create the ai object like so:\\nThis sets up Genkit with the Google AI plugin for models and embeddings and the Astra DB plugin, configured with the credentials to access the collection you just created and the vector embedding model text-embedding-004.\\nWe can now access the Astra DB indexer and retriever via the reference functions:\\n\\nThe indexer is used to store documents in the collection and the retriever is used to perform vector search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application, let's grab data from the web. To ingest web data, we'll need to fetch it from a URL and then extract the main content from the returned HTML. I've written before about how I like to use Readability.js to parse out the content from a page, so we'll follow that. We'll also need something to turn the content into chunks, let's use llm-chunk for this as it's relatively simple.\\nInstall the dependencies:\\nImport them at the top of the script:Write a function that takes a URL, fetches the HTML content, extracts the content and returns it.\\nThe next thing to do is write our first Genkit flow to ingest data from a URL into the collection. Flows are functions that you can run via the Genkit UI or through code. Flows have strongly defined input and output schemas using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it completes successfully.\\n\\nThe ingestion pipeline is nice and easy to read as a flow. And using ai.run around the non-Genkit functions provides an extra level of tracing that we'll be able to see later.\\nThe Genkit UI\\nThis seems like a good time to test out what we've built so far. Open package.json and add a script to run your application code and one to start the Genkit server.\\n\\nNow you can run `npm run genkit` and open the Genkit UI in your browser at localhost:4000. You can either find your flow on the dashboard or by clicking on Flows in the sidebar and then selecting it from the list.\\nThis gives you a box to add some input. The input is the schema that we set up as the parameters to the flow. In this case, it just expects a string that’s a URL.\\nEnter a URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the collection.\\n\\nBack in the Genkit UI you can click on View trace and you’ll be shown each of the steps the flow took to fetch, chunk, embed and store the data.\\nHead back to the Genkit dashboard and open Retrievers from the sidebar. All we did to define the available retriever was set up the Astra DB plugin and export the astraDBRetrieverRef.\\nWe can already use that retriever from the Genkit UI. Click on the retriever and enter the following in the input:\\n\\nIn the options, change the property k to 5. Run the retriever and it will perform a vector search using the text you provide in the input and returning five results from the database.\\nWe can now hook this up with a full RAG flow, in which we first retrieve context from the database and then pass it to a model to generate a response. Open the code again and define another flow:\\n\\nHere we use the retriever to search for the string input, and then pass the resulting documents as part of a prompt to the generate function that uses the Gemini Flash 2.0 model to perform the generation.\\nRestart the Genkit server, open up the Flows section and choose your RAG flow. You can now input a question, make sure it's relevant to the data you indexed, and Gemini will generate a relevant response based on the docs.\\n\\nOnce again, you can hit the View trace button to see what happened at each stage in this request.\\nWe've only used these flows in the Genkit interface so far, but for either of the flows, you can run them like:\\n\\nGenkit and Astra DB make RAG easy\\nIt took us fewer than 100 lines of code to build the two major flows required for RAG: ingestion and generation. Firebase Genkit made it easy to test our implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your flows. \\nAstra DB is an easy to use and powerful vector database, and it's even easier to use when all you need to do is configure the plugin in Genkit and reference indexers and retrievers. \\nYou can find the code for this app on GitHub. The Astra DB plugin for Genkit is open source so if you have any issues or requests, please open an issue on the GitHub repo. And check out the Genkit docs for more on what you can build with Genkit.\\n\\nFrequently Asked Questions (FAQ)\\nWhat is Astra DB?\\nAstra DB is a cloud-based NoSQL document store. It features an accurate and performant vector index for storing vectors which can be used for similarity searches. It comes with a Genkit plugin for integration with the Firebase Genkit framework.\\nWhat is Genkit?\\nGenkit is a framework for building generative AI applications. It provides essential tools such as models, prompts, indexers, retrievers, flows, traces, and evaluations. By using Genkit, developers can efficiently create applications that leverage the power of generative AI.\\nHow do I get started with building a RAG application using Genkit and Astra DB?\\nTo build a RAG application with Genkit and Astra DB, you need to create a database and collection within Astra DB and then install Genkit and related dependencies into your Node.js application. Once you've configured Genkit with your Astra DB credentials, you can start creating flows.\\nWhat does building the RAG application involve?\\nBuilding the RAG application involves creating a collection in Astra DB to store vectors, and setting up flows in Genkit to ingest data, and to generate responses based on context retrieved from the database. You can test these flows out using the Genkit UI.\\nDataStax AI Platform:The Fastest Way to Build and Deploy AI AppsTry For Free\"","genkit:state":"success"},"displayName":"extract-text","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"19643767dc387884":{"spanId":"19643767dc387884","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"cc63e25baa899cd0","startTime":1752353121703,"endTime":1752353121703.6218,"attributes":{"genkit:type":"flowStep","genkit:name":"chunk-it","genkit:path":"/{indexPage,t:flow}/{chunk-it,t:flowStep}","genkit:output":"[\"Today we announced the release of a plugin for Firebase's Genkit framework for building generative AI applications. Genkit is a powerful framework that provides the primitives for building production-quality GenAI applications. From easy access to models, prompts, indexers, and retrievers, to more advanced features like flows, traces, and evals, its power lies in making it easy to do the right thing while building GenAI applications.\\nIn this post, we'll take a look at how to use the Astra DB plugin for Genkit to build a retrieval-augmented generation application with Genkit.Building a RAG application\\nLet's build a RAG application from scratch and see how straightforward it can be with Genkit and Astra DB. First, you'll need a Gemini API key, which you can get from Google AI Studio.\\nYou’ll also need an Astra DB database to store your data and vectors; if you don't already have an account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and\",\" account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and  region. This takes a couple of minutes, so carry on with the next steps while it starts up. Setting up the app\\nCreate a directory for your app and install the dependencies you'll need:\\nCreate a file to work in:Open index.ts and import the dependencies you installed:\\nIn this case, we're pulling in Google's text-embedding-004 model for creating vector embeddings, and the Gemini Flash 2.0 model for generation.\\nIt's about time to create a collection in which we can store our vectors. Hopefully your database has been created now, so head to the DataStax dashboard, choose your database, open the Data Explorer, and create a collection. Give the collection a name and choose \\\"Bring my own\\\" for the embedding generation method. The text-embedding-004 model creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for\",\" creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for  the similarity metric.Once you've created the collection, you'll need the API endpoint of the database, the collection name and to generate an API token. With those, create a .env file in your application and enter the credentials:\\nAlso in the .env file, enter your API key from AI Studio too:Now we can configure Genkit. In index.ts create the ai object like so:\\nThis sets up Genkit with the Google AI plugin for models and embeddings and the Astra DB plugin, configured with the credentials to access the collection you just created and the vector embedding model text-embedding-004.\\nWe can now access the Astra DB indexer and retriever via the reference functions:The indexer is used to store documents in the collection and the retriever is used to perform vector search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,\",\" search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,  let's grab data from the web. To ingest web data, we'll need to fetch it from a URL and then extract the main content from the returned HTML. I've written before about how I like to use Readability.js to parse out the content from a page, so we'll follow that. We'll also need something to turn the content into chunks, let's use llm-chunk for this as it's relatively simple.\\nInstall the dependencies:\\nImport them at the top of the script:Write a function that takes a URL, fetches the HTML content, extracts the content and returns it.\\nThe next thing to do is write our first Genkit flow to ingest data from a URL into the collection. Flows are functions that you can run via the Genkit UI or through code. Flows have strongly defined input and output schemas using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it\",\" using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it  completes successfully. The ingestion pipeline is nice and easy to read as a flow. And using ai.run around the non-Genkit functions provides an extra level of tracing that we'll be able to see later.\\nThe Genkit UI\\nThis seems like a good time to test out what we've built so far. Open package.json and add a script to run your application code and one to start the Genkit server.Now you can run `npm run genkit` and open the Genkit UI in your browser at localhost:4000. You can either find your flow on the dashboard or by clicking on Flows in the sidebar and then selecting it from the list.\\nThis gives you a box to add some input. The input is the schema that we set up as the parameters to the flow. In this case, it just expects a string that’s a URL.\\nEnter a URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the\",\" URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the  collection. Back in the Genkit UI you can click on View trace and you’ll be shown each of the steps the flow took to fetch, chunk, embed and store the data.\\nHead back to the Genkit dashboard and open Retrievers from the sidebar. All we did to define the available retriever was set up the Astra DB plugin and export the astraDBRetrieverRef.\\nWe can already use that retriever from the Genkit UI. Click on the retriever and enter the following in the input:In the options, change the property k to 5. Run the retriever and it will perform a vector search using the text you provide in the input and returning five results from the database.\\nWe can now hook this up with a full RAG flow, in which we first retrieve context from the database and then pass it to a model to generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and\",\" generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and  then pass the resulting documents as part of a prompt to the generate function that uses the Gemini Flash 2.0 model to perform the generation.\\nRestart the Genkit server, open up the Flows section and choose your RAG flow. You can now input a question, make sure it's relevant to the data you indexed, and Gemini will generate a relevant response based on the docs.Once again, you can hit the View trace button to see what happened at each stage in this request.\\nWe've only used these flows in the Genkit interface so far, but for either of the flows, you can run them like: Genkit and Astra DB make RAG easy\\nIt took us fewer than 100 lines of code to build the two major flows required for RAG: ingestion and generation. Firebase Genkit made it easy to test our implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your\",\" implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your  flows. \\nAstra DB is an easy to use and powerful vector database, and it's even easier to use when all you need to do is configure the plugin in Genkit and reference indexers and retrievers. \\nYou can find the code for this app on GitHub. The Astra DB plugin for Genkit is open source so if you have any issues or requests, please open an issue on the GitHub repo. And check out the Genkit docs for more on what you can build with Genkit.Frequently Asked Questions (FAQ)\\nWhat is Astra DB?\\nAstra DB is a cloud-based NoSQL document store. It features an accurate and performant vector index for storing vectors which can be used for similarity searches. It comes with a Genkit plugin for integration with the Firebase Genkit framework.\\nWhat is Genkit?\\nGenkit is a framework for building generative AI applications. It provides essential tools such as models, prompts, indexers, retrievers,\",\" flows, traces, and evaluations. By using Genkit, developers can efficiently create applications that leverage the power of generative AI.\\nHow do I get started with building a RAG application using Genkit and Astra DB?\\nTo build a RAG application with Genkit and Astra DB, you need to create a database and collection within Astra DB and then install Genkit and related dependencies into your Node.js application. Once you've configured Genkit with your Astra DB credentials, you can start creating flows.\\nWhat does building the RAG application involve?\\nBuilding the RAG application involves creating a collection in Astra DB to store vectors, and setting up flows in Genkit to ingest data, and to generate responses based on context retrieved from the database. You can test these flows out using the Genkit UI.\\nDataStax AI Platform:The Fastest Way to Build and Deploy AI AppsTry For Free\"]","genkit:state":"success"},"displayName":"chunk-it","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"e3b541977cfba8e8":{"spanId":"e3b541977cfba8e8","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122215.9695,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for  the similarity metric.Once you've created the collection, you'll need the API endpoint of the database, the collection name and to generate an API token. With those, create a .env file in your application and enter the credentials:\\nAlso in the .env file, enter your API key from AI Studio too:Now we can configure Genkit. In index.ts create the ai object like so:\\nThis sets up Genkit with the Google AI plugin for models and embeddings and the Astra DB plugin, configured with the credentials to access the collection you just created and the vector embedding model text-embedding-004.\\nWe can now access the Astra DB indexer and retriever via the reference functions:The indexer is used to store documents in the collection and the retriever is used to perform vector search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.00014302373,-0.030290488,-0.042010944,0.0020639186,0.019642962,0.030165704,0.07198736,-0.006809514,0.0154829845,0.0009832075,-0.04135756,0.0274452,0.03617905,0.012243284,-0.05067373,-0.043787885,0.015316409,-0.020708185,-0.09790739,-0.0136618605,-0.01482061,0.0030027053,-0.042752903,0.041486267,-0.0051453006,0.017113527,0.040131222,0.024459189,-0.0034125126,-0.02326509,0.02166068,-0.007086306,0.018579826,-0.01709063,-0.035795823,0.006604963,-0.034304734,-0.014744716,0.059711248,-0.0059074475,-0.016947435,0.01896178,0.015777113,0.118080065,0.040193614,-0.030105907,0.0028082398,0.054379053,-0.030575888,0.011315732,0.048536517,-0.00014318664,-0.024984423,-0.01669081,-0.00028071497,-0.043825362,-0.013609538,0.014715518,0.08882542,-0.01941762,0.0249912,-0.02710241,-0.017010592,0.025322858,0.010606832,-0.032663368,-0.014887479,0.042267803,-0.018025301,0.041420493,0.028137282,0.012986567,-0.037094977,0.04655436,0.03230968,0.057379533,-0.03181329,0.008996536,0.0021124126,0.028431227,-0.0077994,-0.011078646,0.06403131,0.03129265,0.0041653602,-0.06429013,-0.002835404,-0.06449433,-0.032746226,-0.0188871,0.06917895,-0.031714816,0.006752012,0.036695987,0.03457023,-0.08277986,-0.05253296,-0.0940572,0.014666845,0.034519617,0.012616209,0.022257268,0.020416064,-0.01976313,0.02303597,0.025865272,-0.0007398245,-0.004398888,-0.05772206,-0.031179368,0.0049608825,0.037492417,-0.0011649966,-0.039164606,-0.039252274,0.022849696,-0.010494137,0.057705868,-0.032029424,0.0030109307,-0.0066298987,0.059835933,-0.019177983,0.057540104,0.10854821,0.028313415,0.034923837,-0.015785467,-0.03103026,0.026194872,0.08850729,-0.042006273,-0.0032750804,0.02783246,0.039787732,-0.047524493,0.06691916,0.032353,0.051358964,0.015127668,-0.013824934,-0.031990655,-0.09866381,0.0027953435,-0.028404023,-0.04050544,0.063372396,0.046720434,0.0070252446,0.052253943,0.010126725,-0.0218379,-0.031064238,0.029436845,-0.017830174,-0.031222781,0.016350748,-0.06719736,0.029595673,-0.016213372,0.040921815,-0.05805469,-0.01369793,0.058682643,-0.05321224,-0.0939714,0.03466698,-0.054819915,-0.0021518075,-0.000028952285,-0.016471056,-0.01581317,-0.019405708,0.054350324,0.0142495455,0.0005999877,-0.04673062,-0.054515164,-0.025660943,-0.011671535,0.097499415,0.018823795,-0.02589261,-0.07746886,-0.0101535255,0.0038925877,-0.066306405,0.051594563,0.03300245,0.07263605,-0.004180711,-0.0039058665,0.013845476,-0.010943531,-0.039370686,-0.034172926,0.052761983,-0.07056073,0.018490138,-0.025208516,0.016672865,-0.022997255,0.02824018,-0.044321015,-0.057430696,-0.033924773,0.06171013,-0.006422703,0.031991895,0.061230917,0.008617221,-0.04155609,-0.025697868,-0.04438908,-0.00717408,0.0074998615,0.022308342,0.06959826,0.032508112,-0.030469019,0.043849207,-0.04562262,-0.017270902,-0.0064460756,0.067466624,0.027892789,-0.026509596,-0.033661783,-0.022247741,-0.008286698,0.03414712,0.045137197,0.03917613,0.038522046,-0.003468669,0.002558643,0.016192624,-0.06875591,0.051032238,0.01919975,-0.010236481,0.060986444,0.02092082,0.012418917,0.047011256,-0.0064021405,0.0036621147,0.04050109,0.0033313865,-0.02258027,-0.024739483,-0.01080041,-0.027332382,-0.0152023975,-0.017206712,-0.040900987,0.045305565,-0.0047609457,-0.02999732,-0.023426594,0.019268442,-0.01224828,-0.049907986,-0.052303884,-0.07060894,-0.081791565,-0.02119579,0.013565176,0.0770588,-0.030938746,0.045079786,-0.041030694,-0.041118216,-0.03631386,-0.014928132,0.032060843,-0.055573475,-0.018229626,-0.0206412,-0.008381526,0.04943013,-0.033998717,0.050518326,-0.040635478,0.053891476,-0.051829122,-0.02285893,0.042810783,-0.012035871,-0.016889315,0.030275,-0.0005839736,-0.04948401,-0.05692982,0.032820635,0.013064243,0.05291267,0.033588197,-0.01423119,-0.043508053,0.038438838,0.04896675,-0.004144818,0.0528044,-0.036576733,-0.003629729,-0.013115717,-0.014046092,-0.02372961,-0.009793469,0.03501838,0.03127288,-0.028755534,-0.025547655,-0.037525564,0.025558086,-0.07133985,-0.021144094,-0.0019436558,0.002297454,-0.019086868,0.026202857,-0.001530652,-0.027679957,0.01199639,0.026486017,0.013670678,-0.02164852,0.033273045,-0.0035091967,0.055987224,-0.027195973,-0.027269786,-0.03148573,-0.010572913,0.024226038,0.00177375,0.051872157,0.050882816,0.018107848,0.03306566,0.043641042,0.056787264,0.05244073,0.0061775674,0.013394824,0.03604703,-0.008449622,-0.02224314,0.026598794,0.032585256,0.028975662,0.011788683,0.03146364,-0.010847959,0.021467617,0.009396613,-0.02317843,0.016157938,-0.029806035,-0.0044008004,0.022433741,0.007824343,0.04634263,-0.0055896547,-0.045166027,0.029080497,-0.0024027666,-0.02383942,0.003848913,-0.039259672,-0.0009008636,0.04129687,0.0052284766,0.030291824,-0.035960935,0.01326235,0.038078498,0.04088898,-0.040958162,0.041961666,-0.03136679,0.041779086,0.024004292,0.006483225,0.058474127,-0.0068919444,-0.01996406,0.018523995,-0.02680097,-0.02753624,0.0042704693,0.0058971983,0.03993417,0.049809262,0.038699258,-0.073684774,0.029501144,0.10352991,0.022147393,0.016020378,-0.056686882,-0.00014794832,-0.050838556,0.002753109,-0.007407832,0.099064454,0.0070798253,-0.02850037,0.04248472,-0.04698691,-0.03552379,-0.032030676,0.05539648,-0.0074721626,0.0012692392,0.022603618,-0.04511378,0.00068714214,0.0071812742,0.012090319,0.028286137,0.0191328,-0.004998621,0.00057628413,-0.043104954,-0.02386567,-0.00976091,0.026569644,0.0136335,0.023554519,-0.0029630885,-0.022040209,0.02085274,-0.0020825914,0.045151405,0.025144132,-0.03324413,0.02273271,0.0013650997,0.030502435,-0.013767365,0.072249666,0.06253041,-0.026003504,0.043555688,0.01981367,0.03463491,0.00025909237,-0.009210923,0.01888398,0.017152864,-0.03510323,-0.0123616,-0.025565026,-0.0045993645,0.008242265,0.0392502,-0.0062035806,-0.008213122,-0.048378743,-0.024196673,0.048148334,0.029517623,0.015022436,-0.045440346,-0.058841564,0.020314507,0.01675833,0.006986851,0.029217185,-0.0011510088,0.020538907,0.037352905,-0.03565832,0.06559708,-0.0005268411,0.006624115,-0.017706294,-0.057681434,0.0045475527,0.048349094,-0.022776019,0.02971838,0.02091135,-0.015429587,0.05042769,-0.010230526,-0.018922111,-0.012298381,-0.033353627,-0.050047908,-0.05119556,-0.02496128,0.002800912,0.013800487,0.09470717,0.022720264,-0.018546099,0.038631357,0.02918319,0.026291523,-0.03489937,-0.0019468724,-0.032947216,0.07403651,-0.03839909,0.034313258,0.04135742,-0.013063011,0.06369578,-0.044896256,-0.005624768,0.0020122833,-0.05215155,0.073734246,-0.04697213,-0.030072207,-0.012304371,0.001235087,0.010489362,-0.016097816,0.04901261,0.019444106,-0.025369557,-0.054949913,-0.04523794,0.002366694,0.031156626,-0.013138857,-0.030697197,0.036822747,0.005511939,0.02571816,0.0041015525,0.07024377,0.025147868,0.052316673,-0.004731951,0.023210337,-0.0029642934,0.011700986,0.030658217,-0.008927071,0.016995873,0.0044359295,0.0029379877,0.0974584,0.0011220403,0.055349775,0.020005964,-0.01870346,0.0002306483,0.012104701,0.024992123,-0.011757695,-0.020802345,0.004576309,0.02129916,0.004549442,0.037019618,-0.02726871,-0.031900845,0.017674733,-0.001769765,0.01771388,-0.040271867,0.082959875,-0.03983003,-0.014974657,-0.029666785,-0.03154084,0.024691062,0.004114975,-0.020445595,0.009949266,-0.02425983,-0.008088481,0.05373533,-0.022476507,0.006100213,0.019472755,0.09190055,-0.03374677,-0.03702973,0.0069176964,0.03597172,0.05849123,-0.055082347,-0.018333873,-0.016699243,-0.0110193705,0.0045851064,-0.007380649,-0.039479584,0.028667511,-0.057389162,0.025669355,0.033692032,0.015284379,0.0246187,-0.024206948,0.069700904,-0.0042696395,-0.0071837385,-0.0475006,-0.041540083,-0.002182076,-0.0057322667,-0.020389212,0.030513106,0.0064584105,-0.025071064,0.023812113,-0.13706613,-0.005880811,-0.0006746557,0.0028618942,-0.028645784,0.01922936,-0.0035304634,0.053206664,0.028597832,-0.008552744,0.0047893086,-0.015465939,-0.012304496,0.0036535214,0.038675696,-0.015414548,0.005792665,0.005981067,0.02163795,-0.04318234,0.02458083,0.009897412,0.08404849,0.021022059,-0.0027846016,0.014486509,0.008857007,0.051653307,0.046260763,-0.037384305,-0.039068423,0.06205484,0.039138157,-0.007892399,0.03525366,0.065041065,-0.020414593,0.031914692,-0.015799472,0.027994309,-0.10288026,-0.03752001,-0.03568512,-0.0078657465,-0.030506719,-0.0097996965,-0.037310634,-0.015111914,-0.023019291,0.015679918,-0.03590805,0.026566688,-0.02006162,-0.00092252437,-0.04575518,-0.026024789,-0.018496938,-0.005328716,0.04345252,0.044478238,0.006258293,0.02322355,-0.0065617203,-0.0120535,0.012114619,0.028955221,0.047012568,-0.0044922577,-0.023641406,-0.04012045,0.0033891634,0.010615611,-0.014255074,-0.07555947,-0.022747565,0.003385391,-0.014128873,0.017873673,-0.027263429,0.008620353,0.0072815223,0.029230682,0.008212785,0.024475927,-0.07593907,-0.05073693,0.04844294,0.0306714,-0.030537121,-0.02797574,0.007817757,-0.01631247,0.010506516,0.0026043544,-0.086991824,0.01052897,-0.05571351,0.03891229,0.017492086,0.07146421,-0.006030826,-0.01831936,-0.011276586,0.013709453,0.055236608,0.0033062594,0.021628251,-0.051651053,0.091093965,-0.011310824,-0.024202442,-0.020705108,-0.045007873,0.0033880202,-0.04485523,-0.018370511,0.02332152,-0.023195643,-0.057778183,0.082346834,-0.0048370035,-0.06641631,-0.016587354,-0.025729513,-0.014815079,-0.009573932,0.0098073725,0.0071558906,-0.042042226,0.03926243,0.017852029,-0.003551364,-0.020038037,-0.031090725,-0.060329903,-0.02793208,-0.044543862,-0.03163736,-0.0018483934,0.016881356,0.04440815,-0.017780049,0.004793397,-0.063190855,0.046661016,-0.003383382,-0.032342188,0.041779697,-0.044349466,0.040760975,-0.03635249,-0.022502748,0.08806274,0.037315454]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"cdaa2abd804a4eef":{"spanId":"cdaa2abd804a4eef","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122219.4487,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and  then pass the resulting documents as part of a prompt to the generate function that uses the Gemini Flash 2.0 model to perform the generation.\\nRestart the Genkit server, open up the Flows section and choose your RAG flow. You can now input a question, make sure it's relevant to the data you indexed, and Gemini will generate a relevant response based on the docs.Once again, you can hit the View trace button to see what happened at each stage in this request.\\nWe've only used these flows in the Genkit interface so far, but for either of the flows, you can run them like: Genkit and Astra DB make RAG easy\\nIt took us fewer than 100 lines of code to build the two major flows required for RAG: ingestion and generation. Firebase Genkit made it easy to test our implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[-0.010137247,-0.019667512,-0.048085917,0.016485976,0.00425364,0.033544563,0.110358395,0.018767579,0.0051223557,-0.009112413,-0.052398533,0.030559883,0.02027004,0.025005559,-0.04594528,-0.061564524,0.016553137,-0.01922807,-0.064855404,-0.021573678,0.024992745,-0.018291114,-0.0701938,0.009115069,0.005246714,-0.002669294,0.053279474,0.061732017,0.007421052,-0.03656992,0.036807343,0.0067572957,0.036229,-0.013606413,0.003892783,0.009803696,0.02490408,-0.012170953,0.03109132,-0.02545271,-0.009520461,0.058957003,0.032772116,0.085476756,0.046681296,-0.045582645,-0.012969595,0.08528966,-0.046825875,0.034674376,0.048129737,0.011200532,-0.006829368,-0.015367916,0.0089328,-0.009097006,-0.0369237,0.027807625,0.10353477,0.017010123,0.028353795,0.003615307,-0.005871834,-0.03722427,0.051628508,-0.022606988,0.0130015155,0.024332197,0.009535013,0.036052976,-0.00035879947,0.019293511,-0.011517722,0.08776568,-0.012508427,0.008256673,-0.030309735,-0.0032774084,-0.0047484376,0.015708588,-0.009006503,-0.015141732,0.05500398,0.022883933,0.02433783,-0.03139764,-0.000396331,-0.084010236,-0.04824667,-0.025923617,0.0956438,-0.009445105,-0.019252636,0.029982267,0.0071789618,-0.039380353,-0.0657195,-0.08530493,0.05863336,0.03455479,-0.022638956,-0.008106358,0.057283327,-0.0004679429,0.026676781,0.026303535,0.0143354265,-0.009857771,-0.065789826,-0.029976832,0.012338914,0.016804893,0.0049568857,-0.025833173,-0.035264246,-0.030361194,-0.045537293,0.039566398,-0.0041377256,-0.00880817,0.004505894,0.02652386,-0.033806827,0.09153853,0.11286775,-0.00728698,0.046220135,0.016550744,-0.05159095,-0.026860941,0.09678022,-0.02536601,0.010215079,0.0064437473,-0.015549532,-0.056951698,0.032976564,0.027882686,-0.014118694,-0.029581983,0.021995798,0.00070376066,-0.086460926,-0.013421286,-0.013177031,-0.036124002,0.031802986,0.04516674,0.02493852,0.013320898,-0.01726458,-0.015766606,-0.02030826,0.020565186,0.0098418305,-0.034551837,0.021129103,-0.03878472,0.04282746,-0.000039245973,0.014884724,-0.07778524,0.027933791,0.06886874,-0.0627418,-0.08788666,0.052992463,-0.024923436,0.0031455383,-0.037139762,-0.00031176463,0.008630554,-0.06720128,-0.009086333,0.0018902227,0.042436607,0.0020517434,-0.08875457,-0.0473049,-0.044789463,0.13979496,-0.009472146,-0.039620474,-0.053385373,-0.0052677915,0.026699407,-0.031900592,0.04579629,0.012437512,0.06507395,0.0045807,-0.021977078,0.030148862,0.0150580285,0.0103866905,-0.043503992,0.01975965,-0.06910224,-0.0046402714,0.004325179,-0.0029193903,0.036168247,-0.007951652,-0.046543583,-0.026894761,-0.045165993,0.045641586,-0.05698082,0.0075488472,0.011303447,0.0074902587,-0.02659728,-0.051454242,-0.04161265,-0.024913384,0.0055909585,0.025027405,0.0415437,0.018310174,-0.014262836,0.06795102,-0.047794536,0.018932445,-0.042140286,0.05889165,0.046939235,-0.03593326,-0.023003375,-0.056027718,-0.024629068,0.049460065,0.0366186,0.003413005,0.03580023,0.0027010574,0.04897907,0.054813117,-0.117292054,0.053527802,0.030336915,-0.056212973,0.09948121,0.03966696,-0.0024493483,0.0420333,-0.03906875,0.012874383,0.046824373,0.0019567036,-0.03323018,-0.041721296,0.017360622,-0.020665854,0.0029255876,-0.002303054,-0.021568881,-0.0058097965,0.024854653,-0.010230551,-0.011877622,0.026957083,-0.04129924,-0.0053636474,-0.044359483,-0.029950732,-0.06074447,0.020323873,0.042506877,0.035770167,0.0020800477,0.005118817,-0.0048522432,-0.071194306,-0.033113893,0.011957499,0.035254877,-0.06241989,-0.0121856,-0.011674386,-0.005881888,0.019790772,0.00036636458,0.021198936,-0.03795558,0.04682948,-0.048867725,-0.026901303,0.04995318,-0.0044979523,-0.0024502354,0.07290734,-0.0031126544,-0.027900144,-0.036754917,0.013484928,0.020262344,0.05107429,0.034315456,-0.008200407,-0.0011429255,0.035749704,0.035887312,0.02171827,0.056736834,-0.0065895114,0.021284463,-0.010955731,-0.036088854,-0.035870977,-0.0033086175,0.01473337,0.033261664,-0.028484913,-0.03694822,-0.015986154,0.03506458,-0.060399894,-0.02064237,0.009578182,0.0031649496,-0.016362157,0.012496972,0.026510106,0.01797379,0.058499224,-0.0019717936,0.014392294,-0.011652878,0.010747419,0.025173925,0.04113311,-0.005834456,-0.026387833,-0.026588487,-0.010382969,0.052115645,-0.024452414,0.031416666,0.015243713,0.029838717,0.043336775,0.024472883,0.05120576,0.027570063,0.004876219,0.027311284,0.076156124,-0.016334224,0.024218682,-0.018915253,-0.018749187,0.05069776,0.028673194,-0.038710903,-0.03362656,-0.00063417974,-0.025893576,-0.017039534,0.010694261,-0.013920973,-0.006787577,0.026753716,0.025385013,0.052022655,-0.00096614135,-0.017275872,0.03414626,0.0018298052,0.007990078,-0.0044299867,-0.043783657,0.011668084,0.06129857,0.037490565,0.04717979,-0.040037483,0.016648013,0.041562647,0.021633055,-0.049585804,0.016177956,-0.044711936,0.022318764,0.030425724,0.0069126897,0.049621325,-0.00042896427,-0.030162223,0.041194223,-0.041224953,-0.02736999,0.02420195,0.03877294,0.030148314,0.030608287,0.07877382,-0.06988369,0.06266489,0.052270934,0.0080847135,0.0061021633,-0.047257286,-0.035165343,-0.056709137,-0.018172381,-0.007972841,0.11293118,0.03724237,-0.018171757,0.02655738,-0.03964553,-0.060443662,-0.010315989,0.07045815,-0.021641543,-0.059650388,0.038703404,-0.057077687,0.013600494,0.022472506,-0.026223369,-0.007870464,0.07071774,-0.0023986602,0.012455069,-0.055849597,-0.045731533,-0.0066310754,0.034208465,0.030824825,0.0025930535,-0.010783105,0.0015733695,0.043411966,0.03638756,0.039393134,-0.0010846191,-0.02203333,0.0631497,-0.022336999,0.009478812,-0.040898137,0.04544474,0.088576935,-0.057247166,0.064236194,0.068963535,0.043557942,0.040195264,-0.03729279,0.00859036,0.05876559,-0.02386818,-0.048576888,-0.02014185,0.013566649,-0.009608213,0.06350436,0.017039934,-0.0047728308,-0.047169123,-0.017142056,0.06864244,0.017209588,-0.004317191,-0.040189218,-0.05051555,-0.0048248656,-0.019920766,-0.0069429674,0.0416616,0.03877348,0.026959157,-0.0049556717,-0.057632238,0.02923069,0.039174933,0.027170947,-0.022072537,-0.02504482,0.016633267,0.0118375905,-0.02691419,0.0118122455,0.0036069853,-0.0075162807,0.006576297,-0.012825791,-0.018435512,-0.039006762,0.017380584,0.015848987,-0.0055826595,-0.030690555,-0.027992986,-0.0032929312,0.06568314,-0.015682323,0.01862153,0.027559806,0.0038705934,0.019657252,-0.0060045803,0.012964718,-0.024221048,0.024246803,-0.01696728,0.02629239,0.005975191,-0.01620926,0.04536697,-0.05389166,-0.033897895,0.0062210527,-0.036545806,0.06298358,-0.05550202,-0.02783184,-0.040752556,0.014459205,0.007793531,-0.021625822,0.039418466,-0.00074317475,-0.04004501,-0.02792384,-0.0018145319,0.01485885,0.01687873,-0.014261703,-0.022339953,0.059408333,0.003128337,0.02090039,0.010823026,0.035948038,0.0012307503,0.07115409,0.0017521486,0.00089727005,0.0012872936,0.031397898,0.009784352,-0.019051563,0.022781802,-0.015449609,-0.025766797,0.055670228,-0.00458063,0.051193073,0.047048237,-0.011031757,-0.04964178,0.059746876,0.038690794,-0.0014642486,-0.024007367,0.023930185,0.037817642,0.021843065,0.058169305,0.00578325,-0.0285828,0.020061705,-0.0068067033,0.04086125,-0.020760717,0.04937235,-0.0075858864,-0.0014393246,-0.02139395,-0.018430518,-0.017134273,0.015826868,-0.014302649,0.0014616128,-0.0024619778,0.0064998637,0.043444786,-0.046945054,-0.007687836,0.012089439,0.050722204,-0.039832283,-0.07359858,-0.02354773,-0.0033869506,0.017965384,0.03231514,-0.04293438,0.0025570716,-0.025589705,0.01778394,-0.019877788,-0.006550057,-0.0090538515,-0.054283626,0.02995317,-0.007255374,-0.0070219636,-0.034167264,-0.043128766,0.05267367,-0.0052147554,-0.027936026,-0.03341744,-0.035697617,-0.00856418,-0.02258476,-0.034058664,0.0033228686,-0.0022114916,-0.000045109908,-0.0042319377,-0.099636234,-0.027593272,-0.047500335,0.024946338,-0.03394135,0.009292438,-0.002239153,0.041939583,0.059452873,-0.0054661534,-0.014045611,-0.015653988,-0.025021875,0.025705334,0.03129454,-0.00049429655,-0.023132322,0.0042138933,0.0043610535,-0.029473158,0.03543224,-0.0025564143,0.051217556,-0.006911436,0.0026515834,-0.008062185,0.016544392,0.028153297,0.035504054,-0.040424578,-0.040556703,0.026289985,0.019288998,-0.00936529,0.04430727,0.04719221,-0.022011686,0.043371204,-0.034824178,0.0037670496,-0.08553102,-0.0062747267,-0.06857467,0.030659217,0.0059418934,0.018187474,-0.050342634,-0.01194081,-0.013065728,0.016293239,-0.02981982,-0.0052167876,-0.008344262,0.018807763,-0.0443771,0.011932394,0.00580503,-0.048229475,0.051734474,0.03151321,-0.035814647,0.016143335,-0.020363769,0.010220625,-0.027244093,0.052507997,-0.0004468018,-0.025676176,-0.052596185,-0.018427182,0.03893602,0.001175578,0.0045683333,-0.052310362,-0.010173875,0.013420106,0.0081531545,0.015226823,-0.053214032,0.0073074824,-0.018954486,0.032765564,0.0032667385,0.04165783,-0.05724972,-0.07079033,0.048994884,0.005773499,-0.01326889,-0.039397817,0.029429052,-0.014687717,0.039995875,-0.0036008847,-0.11347889,-0.022353908,-0.044069886,0.02593544,0.062478766,0.030957077,0.0033191538,-0.007639814,-0.0002935156,0.016399045,0.0076944656,-0.03147332,0.03202461,-0.06634324,0.083744645,-0.024599178,0.011166179,-0.024549223,-0.007754759,-0.023863172,-0.012332712,-0.016557438,0.029296076,-0.032890692,-0.04842791,0.04165672,-0.0048108757,-0.04163034,-0.015530139,-0.018403647,-0.041558374,-0.025289038,0.0290116,-0.023436617,0.013810607,-0.010105748,0.037434455,-0.006275586,-0.027330823,-0.027952619,-0.07277347,-0.0017235318,-0.038447205,-0.035516053,0.0065707043,0.028647937,0.02952549,-0.031389885,0.018275524,-0.034652356,0.030155646,0.015434882,-0.025918001,0.05606575,-0.03251982,0.052341208,0.0034807122,-0.0052073915,0.043790903,-0.0006383034]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"3c157094f625f80b":{"spanId":"3c157094f625f80b","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122228.1057,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\"Today we announced the release of a plugin for Firebase's Genkit framework for building generative AI applications. Genkit is a powerful framework that provides the primitives for building production-quality GenAI applications. From easy access to models, prompts, indexers, and retrievers, to more advanced features like flows, traces, and evals, its power lies in making it easy to do the right thing while building GenAI applications.\\nIn this post, we'll take a look at how to use the Astra DB plugin for Genkit to build a retrieval-augmented generation application with Genkit.Building a RAG application\\nLet's build a RAG application from scratch and see how straightforward it can be with Genkit and Astra DB. First, you'll need a Gemini API key, which you can get from Google AI Studio.\\nYou’ll also need an Astra DB database to store your data and vectors; if you don't already have an account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.025031501,-0.006796412,-0.027165143,-0.03511922,-0.010446172,0.04424989,0.10236704,0.01537198,0.006909406,-0.020723186,-0.058162518,0.052567147,0.024583386,0.028769784,-0.0674103,-0.032942113,-0.011311339,0.024361638,-0.08134298,-0.025602693,0.02163306,-0.010921502,-0.08267878,0.014149949,0.02112475,-0.0065251268,0.05920499,0.064456105,0.022831941,-0.03410365,-0.0015374526,0.024794076,0.032666966,-0.0029431426,-0.06341168,0.0075243637,0.02225917,-0.018685762,0.044100355,-0.007513199,-0.0067893444,0.021499516,0.03607057,0.09181407,0.044340674,-0.047350436,-0.020079508,0.08060216,-0.055973843,0.013930674,0.07813429,-0.011471081,0.004817938,0.0059891534,-0.009464322,-0.047711488,-0.031328898,0.013090996,0.08235412,0.004933198,0.021431578,0.015071163,-0.053399265,0.0159877,-0.009718527,-0.034264047,-0.009141504,-0.0038945843,0.017965397,0.014491045,0.028597554,0.023148494,-0.026426874,0.060021043,0.011891897,0.033584997,-0.054224867,0.006318484,0.012101379,0.0047213803,-0.00456791,0.00003187195,0.042987,0.021682115,-0.0016896266,-0.07226403,-0.030918729,-0.07061793,-0.033168484,-0.023230266,0.085855596,-0.020261928,0.022726178,0.030908914,-0.014816112,-0.0516601,-0.05824849,-0.08794884,0.06952521,0.04197475,-0.0012955733,-0.0027469203,-0.0035031878,-0.014380226,0.0031919489,0.04296466,-0.00032629722,-0.022922358,-0.046452858,-0.024454935,0.024776185,0.001034332,-0.0023267784,-0.045366827,-0.040588602,0.04796886,-0.034105584,0.04127134,-0.036180694,0.022473209,0.03404222,0.043622427,0.0055173445,0.06405263,0.089072704,-0.008215488,0.036726896,-0.018096708,-0.042080004,0.00674249,0.080099836,-0.007418363,0.00939316,0.012500744,0.036524948,-0.027863432,0.061146706,0.008448322,0.02277503,0.0039256955,-0.015313125,-0.030959481,-0.06740623,0.002963376,-0.008620694,-0.027032355,0.042104993,0.06959079,0.07340698,0.04410124,0.0059911627,-0.006011658,0.009073226,0.0010790459,-0.006135729,-0.057439078,0.0062929573,-0.06113901,0.029638445,-0.020320212,0.0137348,-0.061482184,0.018298753,0.059152458,-0.049929004,-0.06631447,0.009771916,0.007832544,0.004750028,-0.00959206,-0.017043522,0.018887062,-0.06738572,0.041609395,0.01639648,0.027840856,-0.0059983097,-0.072208524,-0.019747859,-0.029543838,0.12138445,0.021575231,-0.036349732,-0.06625089,0.005310872,0.04160792,-0.056442782,0.05378073,0.032806,0.048545,0.0403832,-0.020005586,0.036172267,0.0031255009,0.00067949697,-0.026164249,0.050874837,-0.072819605,0.024091331,-0.004597345,-0.005625329,0.020974033,0.027933255,-0.0356514,-0.048475273,-0.0499473,0.06594188,-0.035833944,0.037154447,0.038597427,-0.0061061275,-0.018195147,-0.035458267,-0.036662184,-0.016415274,-0.0059602954,0.0108436765,0.057975143,0.009482678,-0.024123086,0.055050526,-0.030031482,-0.02476036,-0.017133536,0.06018651,0.04124722,-0.009143821,-0.034291316,-0.039068647,-0.019891154,0.056905378,0.014927841,0.038673762,0.032704763,-0.035608348,0.038366023,0.027628113,-0.082639605,0.03424407,0.03578929,-0.014207512,0.08527824,0.055183884,-0.013562452,0.0362786,-0.019517496,0.007375444,0.042742725,0.011960008,-0.030495912,-0.03889916,-0.0295928,-0.010521321,0.016954081,-0.0010981748,-0.028423376,0.026051695,0.0121053085,-0.0168067,-0.018488824,0.002478651,-0.028624946,-0.048061717,-0.03390097,-0.038847342,-0.07228625,-0.0128612,0.019289084,0.011316617,-0.037603777,-0.018023666,-0.037432946,-0.0654326,-0.022575933,-0.012258087,0.030996732,-0.05403837,-0.012973766,-0.0031365084,-0.027944617,0.03159183,-0.035413988,0.0283039,-0.023497934,0.041090965,-0.0516209,-0.029362462,0.04963094,0.0017741761,-0.007986219,0.056282274,-0.0010792387,-0.037608862,-0.051535822,0.026162975,-0.0000059667464,0.05998312,0.0372033,-0.028117763,0.0000023163907,0.030687375,0.027766379,0.008976582,0.035360396,-0.057098914,-0.013707608,-0.019968694,-0.019944519,-0.046822336,-0.021520544,0.029099897,0.042539176,-0.03925384,-0.04726448,-0.01851876,0.028257685,-0.042456258,-0.023504313,0.0019916848,-0.0008297405,-0.006793417,0.028126957,0.032314464,-0.026444834,-0.016124018,0.026896767,-0.0011759615,-0.037498724,0.008066309,0.035132952,0.061927903,-0.008162169,-0.032146577,-0.008475893,-0.024048766,0.066992044,0.010488904,0.035134237,0.010887396,0.019958982,0.008790219,0.050108485,0.06378498,0.025909238,0.020115849,0.009822045,0.05804985,-0.0006768106,0.004194745,0.019046228,0.01723413,0.0337645,0.023549693,-0.018571123,-0.039134197,-0.0072496315,-0.011755538,-0.008051004,0.0075034676,-0.029566549,-0.041757494,0.013787408,0.010688765,0.03684314,-0.010061678,-0.011626574,0.038879637,0.013206913,-0.0015933928,-0.026137158,-0.030576078,-0.00026379115,0.05162096,0.036584064,0.07162342,-0.016622756,0.032395512,0.052513447,0.028445862,-0.041404877,0.048690323,-0.039589714,0.038702596,0.017560381,0.016088912,0.048016477,0.009434464,-0.058072757,0.030638505,-0.04580663,-0.023387834,0.012847298,0.031750776,0.027624749,0.078948975,0.039037783,-0.055707652,0.038834356,0.09210951,-0.0029692121,0.019437572,-0.047245037,-0.036157146,-0.04919834,-0.013599383,-0.010720122,0.1106885,0.030954193,-0.018336432,0.0067673246,-0.012264876,-0.03159797,0.008561013,0.053420227,0.0074475603,-0.043697692,0.012385374,-0.0820122,0.0062352694,-0.02741999,-0.020715233,-0.0057186196,0.0386403,0.004820321,0.0009200544,-0.057890184,-0.046883296,0.007201774,-0.0049339347,0.042143453,0.03768585,0.013515481,-0.018308066,0.037281606,0.024940338,0.073513746,0.010093354,-0.04895694,0.034007594,-0.041862473,-0.00025281173,-0.02137468,0.044151317,0.071164325,-0.025187088,0.020544427,0.05953913,0.027536003,0.0077181556,-0.025688358,0.00973421,0.047101583,0.012784045,-0.04895298,-0.0075435666,0.019971237,-0.025484577,0.028314715,-0.0025954656,-0.00029016208,-0.042805713,-0.021862322,0.041393265,0.022343623,0.0032088093,-0.020719659,-0.07493081,-0.031116964,-0.0086296685,-0.0035647252,0.027334133,0.017612014,0.006889281,0.013388231,-0.0357144,0.043702397,0.050844118,0.015312589,-0.03321745,-0.062138148,0.0012874833,0.06495701,-0.028738508,0.023241313,0.009961794,0.0025586796,0.035590507,-0.005636812,-0.00036632753,-0.05118342,0.013628732,-0.032629646,-0.035404224,-0.033496805,-0.019465107,0.006280294,0.07383321,-0.018591082,-0.015981046,0.0102627985,0.023120442,0.034906067,-0.012528365,0.009693238,-0.035047706,0.07151863,-0.009797796,0.044603188,0.017378226,-0.03122985,0.047584414,-0.05396294,-0.04483276,0.012222874,-0.030521398,0.08636307,-0.040914815,-0.00520659,-0.011889169,-0.0040579773,0.010533442,-0.01126872,0.047091156,0.012825092,-0.015161415,-0.027341025,-0.05774723,0.03412455,0.008384408,-0.008733564,-0.025318265,0.028920641,-0.014665459,0.03466965,-0.011273489,0.02140903,-0.021770054,0.060798742,0.010300879,0.01535983,0.022982026,-0.014531284,0.0026841809,-0.02993595,0.015175042,-0.009621636,0.0017313734,0.059126187,-0.0066462294,0.042751465,0.03971126,-0.033069465,-0.03178863,0.043555647,0.036012646,-0.011442422,-0.057132524,0.019965595,0.032785207,0.019011343,0.043766595,0.0050490205,-0.025096217,0.04652626,-0.01557974,0.025922528,-0.040777747,0.07486306,-0.01425935,-0.0008534438,-0.047997903,-0.027165294,0.012036478,0.01709742,0.009915926,0.011750188,-0.024344642,0.026602373,0.023202525,-0.023513138,0.0032662882,-0.0027937344,0.099019855,-0.024971936,-0.062962525,0.0030198172,0.0005653869,0.028435389,-0.012885211,-0.030201307,-0.01089265,-0.022744823,0.009617255,-0.014976643,-0.02905951,0.024173168,-0.045023292,0.013384625,0.03696196,0.01740958,-0.027904388,-0.02599024,0.036081646,-0.026197692,-0.00057176873,-0.04756944,-0.017053043,0.0026065821,-0.01637601,-0.042228002,-0.0065715984,0.006799152,-0.017602723,-0.022601012,-0.09182687,-0.04386907,-0.026175167,0.01906041,-0.031177754,0.028408479,-0.012240935,0.021832049,0.04450982,-0.02213558,0.015259717,0.00096351653,-0.0063746735,0.02764861,0.041265525,-0.019125575,0.0038972269,0.0033076114,0.008710662,-0.04842318,0.04723427,0.010636984,0.080193594,0.00024952204,-0.002463394,0.026446717,0.00079123577,0.034361497,0.037265934,-0.028388783,-0.02925544,0.08000226,0.012827147,-0.00561618,0.023367645,0.07932832,0.01441316,0.04070982,-0.031247979,-0.009833714,-0.074740075,-0.030909134,-0.08601251,-0.039352532,-0.0087073585,-0.013256139,-0.06853633,-0.01828747,-0.022206074,-0.02775741,-0.051081054,0.007965562,0.008636464,0.02292024,0.000975246,0.021356648,0.0047346004,-0.0026947926,0.067132264,0.0016932565,0.023728838,0.013563623,0.009166532,-0.0063246065,0.008542828,0.044936307,0.022624854,-0.02733122,-0.058216788,-0.029038318,0.03495451,0.0026766327,-0.0066784183,-0.025138345,-0.02246818,-0.011555475,-0.031631168,0.023958981,-0.037080172,0.0005217976,0.025912507,0.02690379,0.02019794,0.03423349,-0.04171845,-0.07476985,0.055844765,0.033546034,-0.037959464,-0.025280803,0.021844417,-0.018210473,0.030539032,-0.011981436,-0.112112984,-0.010711135,-0.06633747,0.029901082,0.028896127,0.033693057,-0.018175472,0.010366016,-0.0026342229,0.023924697,0.04154534,0.009116412,0.016429763,-0.065762386,0.108042054,-0.017661087,0.0043263882,-0.01654344,-0.024077283,-0.0021843803,-0.02367837,-0.001189859,0.006196919,-0.015351205,-0.049809247,0.05369076,-0.0013510216,-0.027500788,-0.008488461,-0.008817217,-0.04799799,-0.00029658197,0.0019003616,-0.041893184,-0.016036492,0.015943611,0.04057334,-0.010060604,-0.027634494,-0.045526475,-0.059794493,0.0067957444,-0.05372687,-0.025101067,0.003059321,0.068316154,0.02520804,-0.018478151,0.049072757,-0.03491369,0.007543307,0.015284837,0.0010973356,0.061737373,-0.031512447,0.06201644,0.003622977,-0.028192913,0.06704745,0.04690309]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"a94a67673a669d59":{"spanId":"a94a67673a669d59","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122249.776,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the  collection. Back in the Genkit UI you can click on View trace and you’ll be shown each of the steps the flow took to fetch, chunk, embed and store the data.\\nHead back to the Genkit dashboard and open Retrievers from the sidebar. All we did to define the available retriever was set up the Astra DB plugin and export the astraDBRetrieverRef.\\nWe can already use that retriever from the Genkit UI. Click on the retriever and enter the following in the input:In the options, change the property k to 5. Run the retriever and it will perform a vector search using the text you provide in the input and returning five results from the database.\\nWe can now hook this up with a full RAG flow, in which we first retrieve context from the database and then pass it to a model to generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[-0.017081335,0.010832517,-0.012701953,-0.0011227755,0.032081224,0.037613314,0.09643533,-0.031808205,0.00002482706,0.0012216328,-0.060650613,0.020269683,0.010404569,-0.0010867807,-0.062238257,-0.044005163,0.0010844574,0.00078929955,-0.10447942,-0.028340813,-0.0065662884,-0.016353404,-0.023572974,0.030325498,0.01786656,0.020254327,0.03808852,0.05300965,-0.03039536,0.008736693,0.018738916,0.014914267,0.027586797,-0.05091637,-0.021466712,0.017748483,-0.005093837,0.0047122044,0.021496804,-0.058005672,-0.0054222886,0.033353783,0.0013353444,0.06092375,0.023254432,-0.011505926,0.018203462,0.06383972,-0.035075046,0.011961468,0.026250351,0.017050276,-0.017777536,0.004717657,0.022060707,-0.018900352,0.025705315,0.003795619,0.097733185,0.000040101357,0.02947657,-0.0017321313,0.013169465,0.016280845,0.018833706,-0.056572113,-0.012840882,0.019979816,-0.020889139,0.025410904,0.0074276957,0.04116009,-0.03732342,0.020509835,-0.003782633,0.03065831,0.0035238166,0.0085778395,0.001953698,-0.0068828817,0.006319863,-0.01583352,0.034217525,0.03512901,0.010689882,-0.03810121,-0.020478496,-0.046269137,-0.07880869,-0.056076407,0.079945214,-0.012887959,0.010977485,0.017576952,0.021297773,-0.0692318,-0.06443357,-0.09046288,0.07812489,0.048888236,-0.01210479,-0.0040273173,0.040528446,-0.025638834,0.03979791,0.026114805,0.0024625883,-0.014491273,-0.06083606,-0.017982319,0.030983547,0.014370345,-0.026650347,-0.066224694,-0.06060457,0.011714684,-0.004516697,0.031144766,0.0046708994,-0.027639488,0.03032085,0.04921982,-0.009291536,0.08734184,0.14488456,0.00055470417,0.030610686,-0.017701967,-0.039948583,-0.0027575786,0.069004185,-0.018424386,0.022466797,0.0051511885,-0.008103765,-0.034127787,0.038406834,-0.01963489,0.0018874906,-0.0033532763,0.0030013965,-0.014988336,-0.089013696,0.016139034,-0.004691527,-0.008271848,0.037531715,0.060708385,0.022950597,0.024495449,0.014650129,-0.012129513,-0.013338155,-0.019911997,-0.022638878,-0.023368837,0.048116576,-0.0610243,0.00077787397,0.006942417,0.027512092,-0.0617024,0.024137424,0.075819895,-0.064663336,-0.091058604,0.0032087606,-0.005685911,0.0068640667,0.007764941,-0.0052855844,-0.028252568,-0.05424778,0.03850674,-0.0048578745,0.030645525,-0.031225547,-0.07267334,-0.028288184,-0.0021827486,0.12967063,0.009778572,-0.015914103,-0.07490207,-0.008552531,0.03111405,-0.038297515,0.060175367,0.04114042,0.07435169,0.009101747,-0.029568752,-0.006817384,0.022835968,-0.023076834,-0.022386642,0.061507337,-0.027542217,0.015589488,-0.014228513,-0.002760768,-0.015142529,0.006303136,-0.028352944,-0.070889466,-0.04372187,0.022062358,-0.014859959,0.029457679,0.014391112,0.0005788135,-0.030738749,-0.05895611,-0.050592486,-0.017890772,0.026827516,-0.009234199,0.046828855,0.028317885,-0.012433377,0.06569231,-0.024747722,-0.0352291,-0.018712917,0.04228081,0.050895985,-0.038406793,-0.008464951,-0.021252923,-0.057320137,0.0032986715,0.0036512052,0.038696315,0.050017547,0.0076577365,0.010936084,0.036243048,-0.078527294,0.027116328,0.01650439,-0.054206405,0.06611614,0.03752134,-0.02265541,0.030255426,-0.04758918,0.035387196,0.04872904,-0.008678367,-0.036407903,-0.048631076,-0.053047907,-0.03711209,-0.010274334,0.009377883,-0.040359132,0.028879778,0.002573783,0.00049409806,-0.026732733,0.009550764,-0.014251872,-0.051715463,-0.052896973,-0.06278063,-0.03705684,0.000010320081,-0.0022037362,0.06542391,-0.012896043,0.011712093,-0.0033481456,-0.039828863,-0.035094447,-0.027573781,0.025850447,-0.048784584,-0.009455551,-0.0014415877,0.02614647,0.04061806,-0.04668983,0.03143556,-0.040612638,0.05281754,-0.07272905,-0.026825042,0.031250086,0.019346973,-0.024719663,0.062090103,-0.010194695,-0.034010228,-0.04911368,0.038272303,-0.013317367,0.029822823,0.05440074,-0.040553566,0.023493528,0.043478563,0.02667793,0.015186474,0.053686094,-0.042558163,-0.010553928,-0.025224643,-0.029444616,-0.023915907,-0.0035154915,0.067600764,0.06180441,-0.020263812,-0.023284156,0.005023925,0.048402935,-0.092213295,-0.028425058,0.02539936,-0.022939475,-0.03780355,0.018431189,0.017035224,-0.016635595,0.024218414,-0.0103490865,-0.004240022,-0.012499603,0.0022055837,0.042101327,0.062114727,-0.023817854,-0.020625057,-0.022482228,0.01670665,0.035627652,0.015268776,0.032693353,0.027232697,0.0025403372,0.045278758,0.06417807,0.023081018,0.02562647,-0.0034383945,0.021055713,0.03246421,-0.019506412,-0.020520933,0.018455494,0.01659082,0.05966408,0.026866177,-0.008645413,-0.03716458,0.030156534,0.027991226,-0.015088554,0.024522575,-0.015533676,-0.01667217,0.019339213,0.008589874,0.040102243,-0.044265114,-0.041095797,0.05052382,0.022264134,-0.038670596,-0.008407146,-0.026829641,-0.0064216694,0.038910773,-0.0023007828,0.027140945,-0.036980055,0.037869047,0.058545157,0.0047897557,-0.07307989,-0.0016434921,-0.0443889,0.012302597,-0.0034626322,0.019539395,0.08316693,-0.014208065,-0.010033118,0.030656034,-0.04079822,-0.005279349,0.031576555,-0.0008125008,0.043704763,0.023804456,0.022459183,-0.035643224,0.057146855,0.07803416,0.007902807,0.013430476,-0.046867657,-0.027040645,-0.04116971,-0.0043978565,0.0016794498,0.11641033,-0.0031344774,-0.009931436,0.0251377,-0.039493516,-0.056170158,-0.010163252,0.07301392,-0.020091252,-0.01927681,0.025918163,-0.05824818,0.0040831305,-0.02070403,-0.037421517,0.002528336,0.023832474,-0.009593647,0.012884643,-0.0870847,-0.03194845,-0.024299163,0.039403103,0.033266075,0.018450163,0.028541569,-0.03478679,0.06804727,-0.03890946,0.01964236,-0.0001128145,-0.04118307,0.012095185,-0.042558707,-0.009840889,-0.031154454,0.087402314,0.08125492,-0.02208141,0.05942383,0.037315767,0.026412,0.0078544,-0.03736857,0.01691429,0.025232738,-0.015025854,-0.023165593,-0.04039058,-0.0032083367,-0.03784311,0.02411876,-0.007978944,-0.03445593,-0.07299351,-0.035910744,0.037575033,0.009303598,-0.021834798,-0.032156087,-0.08382088,0.037684664,-0.028557707,0.0096784225,0.03866965,0.02208171,0.029904904,0.022660559,-0.0388603,0.0460786,0.033592723,0.021130886,-0.00006578671,-0.019998355,0.034069307,0.07294637,-0.047874276,0.06286678,0.021025546,0.020957815,0.046781696,-0.015045045,-0.009059767,-0.014996019,0.0063460357,0.0045068366,-0.029688431,-0.014967312,-0.010999818,0.0016744891,0.054563064,0.017234351,-0.034673683,0.054216553,0.0055600046,0.057509042,-0.0028829894,0.0144167645,-0.057891324,0.060050428,-0.01052142,0.029142875,0.04773291,0.014611519,0.04856799,-0.023546953,-0.025492176,-0.01207023,-0.025840182,0.06900422,-0.03714192,-0.0064747366,-0.0017442239,0.01578754,0.013874243,-0.022215683,0.042049736,-0.0009853208,-0.017865926,-0.030475527,-0.009285394,0.05225218,0.03228346,-0.012419589,-0.030115023,0.03913526,0.0007909949,0.031777825,0.022380311,0.05981185,0.02892524,0.040280063,0.046796944,0.012632422,0.00069335965,0.0054848036,0.01235442,-0.043839373,-0.024099004,0.005255752,0.012169409,0.05129956,-0.012268789,0.051061187,0.0101223625,-0.0155481165,-0.05523786,0.04554165,0.055581477,-0.01512093,-0.039206233,0.020069372,0.014496712,0.020241939,-0.011761837,-0.019144727,-0.016026577,0.034260746,-0.0032051571,0.03311057,-0.03701527,0.05796283,-0.02497288,0.01654311,-0.0032212485,-0.04798288,0.024937611,-0.024016999,-0.036553442,-0.006499023,-0.009852661,0.03541272,0.048471577,-0.01274759,0.029446332,0.021412147,0.09314706,-0.037691023,-0.02065674,0.012898078,0.016267763,0.023782987,-0.00724092,-0.04442318,-0.02448484,-0.026169902,0.04269341,-0.027999746,0.001968776,-0.003920892,-0.06575638,0.0042401045,0.010456292,0.028364928,-0.0060140593,-0.04416684,0.06416046,-0.031685457,-0.038199257,-0.018098949,-0.012696128,-0.011461875,-0.008828981,0.0048016263,0.01555417,-0.0047832956,0.0010781641,-0.00018637894,-0.11203725,-0.011877461,-0.027800301,0.020713124,-0.017306957,0.013187453,-0.010342261,0.026129209,0.04511224,-0.0023534235,0.029813483,-0.019833485,-0.023212261,0.03204609,0.025006369,-0.0484228,-0.021396704,-0.010916694,-0.0015969933,-0.04606946,0.023930956,0.0248697,0.0693417,0.0071675465,0.008672139,0.014049475,0.014208286,-0.0023656925,0.04758017,-0.020601247,-0.045916054,0.0385752,0.0133239655,-0.05306193,0.019106751,0.070423976,0.0011208497,0.020567356,-0.035052843,-0.0013761421,-0.10874999,0.003066235,-0.05327354,-0.01483879,0.0026758427,0.00577138,-0.052247845,-0.04560023,-0.0037292228,0.017191852,-0.037879296,0.013608443,0.022108726,0.03976242,-0.0060798284,-0.0012761009,0.029692449,0.026820626,0.05476352,0.03003756,-0.024911307,-0.0014701621,-0.004840837,0.0136490455,-0.020340925,0.042887766,0.04948688,-0.011159297,-0.017981105,-0.025003877,0.051220357,0.03542469,-0.033420082,-0.020782065,-0.0010367899,-0.019955069,0.013853479,0.009417075,-0.026520142,0.0072710067,0.030416746,0.0705153,-0.009763927,0.047720615,-0.089536764,-0.084639564,0.03531596,0.027645482,-0.049609553,0.016825363,0.03343297,-0.0027792896,0.043882016,0.010974588,-0.07367238,-0.01655403,-0.039102633,0.03453226,0.023233404,0.032049235,0.012521053,0.020339094,0.003529827,0.03340383,0.07865069,-0.019365765,0.038938444,-0.052628983,0.058198147,0.0025893187,-0.009998711,-0.030650347,-0.047003973,-0.0060717887,-0.027856506,-0.0106707,0.008209196,-0.03268193,-0.03103741,0.03724869,0.026412103,-0.025891509,-0.024065105,-0.021322647,-0.035838645,-0.010127424,0.059300777,-0.019168008,-0.031802632,0.024581505,0.046860334,0.003843321,-0.032075223,-0.042586878,-0.046318647,-0.008794635,-0.062224798,-0.046800558,-0.0077324905,0.012951351,0.024807276,-0.004284991,0.01769197,-0.033491917,0.019044444,0.0037175978,-0.022376753,0.030648885,-0.02547284,0.045356676,-0.0034388276,-0.0413296,0.016302284,0.01482751]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"c3117212eb1e63bc":{"spanId":"c3117212eb1e63bc","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122253.9497,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and  region. This takes a couple of minutes, so carry on with the next steps while it starts up. Setting up the app\\nCreate a directory for your app and install the dependencies you'll need:\\nCreate a file to work in:Open index.ts and import the dependencies you installed:\\nIn this case, we're pulling in Google's text-embedding-004 model for creating vector embeddings, and the Gemini Flash 2.0 model for generation.\\nIt's about time to create a collection in which we can store our vectors. Hopefully your database has been created now, so head to the DataStax dashboard, choose your database, open the Data Explorer, and create a collection. Give the collection a name and choose \\\"Bring my own\\\" for the embedding generation method. The text-embedding-004 model creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.026184063,0.01338826,-0.04034156,-0.007797927,0.027723499,-0.003327756,0.09205845,0.006773457,-0.012190466,0.0069157695,-0.03268583,0.047131617,0.05292932,-0.027511328,-0.042245615,-0.029970516,-0.029836176,-0.017709859,-0.07550345,-0.009412911,-0.01082937,-0.0053005675,-0.024654083,0.0058554267,-0.013761493,-0.02164548,0.03429702,-0.021989476,0.025867656,0.010734071,0.035698213,0.02252688,0.018124536,0.024192773,-0.052624382,-0.0016678959,-0.015596052,0.030593561,0.06076889,-0.026622903,-0.06935102,-0.05969692,0.0050308635,0.08974796,0.038292445,-0.033644512,-0.020445643,0.03908475,-0.038700562,0.03527971,0.10340755,-0.0015900929,-0.012754728,-0.027183529,0.016631288,-0.049254663,-0.0041345037,0.024414444,0.06647083,-0.013048007,0.03379581,-0.01041996,0.008095181,0.039521098,-0.021212738,-0.038782753,-0.008084457,0.022099989,-0.0093116,0.017580703,0.008947836,0.026272824,-0.04126005,0.017246703,0.018855626,0.045794602,-0.013492393,-0.0000030720016,-0.045592155,0.008885327,0.023571847,-0.015466173,0.07303406,0.03401181,0.01987086,-0.059229814,-0.01869999,-0.016711337,-0.03772753,-0.026547963,0.06062987,-0.027176037,0.049668934,0.0056004943,0.044890665,-0.075709544,-0.07286518,-0.1008209,0.029004658,0.0427539,0.020213982,0.018092694,0.013330321,-0.028461166,0.052535806,-0.0025869105,-0.015046,-0.0091614025,-0.032943893,0.004972344,-0.020492103,0.035940804,-0.0115280235,-0.053403355,-0.03717291,0.028876781,-0.02145386,0.059965324,-0.034095768,0.066114314,-0.0001295807,0.044224273,-0.011338606,0.02054737,0.12735102,0.042690158,0.033213172,-0.03361763,-0.049543463,0.023825763,0.07553044,-0.045840465,0.010912594,0.029735852,0.009333401,0.004674073,0.06423117,0.012134598,0.043514885,0.011809315,-0.020289458,-0.04319034,-0.08284615,-0.009254346,-0.050818674,0.011947797,0.037905484,0.108342946,0.028724827,0.05715491,0.015659573,0.011571152,-0.027668301,0.049025323,-0.058783263,-0.021069685,-0.011187251,-0.07187917,0.039506976,-0.013355637,0.021036271,-0.053063452,0.008206108,0.057566397,-0.02487958,-0.05948981,0.020874241,0.0008451921,0.009859885,0.0044792304,-0.02779173,0.0062100873,-0.012265185,0.031486474,-0.00437696,0.0019133947,-0.058995184,-0.049410086,0.00772606,-0.017453145,0.09851697,0.06661318,-0.026844509,-0.08292814,0.009027657,0.010830654,-0.09674531,0.04097665,0.017807078,0.06350355,-0.054656293,0.022787979,-0.0047793076,0.017007936,-0.05289638,-0.0038789194,0.081369385,-0.062724374,0.040295184,-0.029706426,0.027203193,-0.0000099686795,0.040204894,-0.039674807,-0.057506107,-0.021566741,0.050546423,-0.053472128,0.06934842,0.065516405,-0.0019148826,-0.0029622049,-0.014797808,-0.0514578,0.033014633,0.0064849616,0.014696589,0.047084652,0.06226149,-0.022105195,0.02986193,-0.027151681,-0.0022864586,-0.0006793917,0.037926845,0.018959817,-0.024632007,-0.011486784,-0.028420508,0.0006272665,0.01184071,0.0023679284,0.02308207,0.014740046,-0.04807539,0.00851371,0.018932883,-0.049246516,-0.0016946738,0.043018,0.024522934,0.03978053,0.035216637,0.027652528,-0.00088182796,0.002775561,0.0034166481,0.060979035,0.005353942,0.0013517812,-0.058811612,0.003870648,-0.044587694,-0.009708211,0.013765777,-0.03517851,0.06617434,0.0042315214,-0.0009374373,-0.02029292,0.025856191,-0.042374413,-0.04427244,-0.06680189,-0.04526888,-0.12725902,-0.013904934,-0.00853266,0.02335663,-0.04786583,0.012531219,-0.030236235,-0.037255224,-0.033246633,-0.009042849,0.035058614,-0.04721131,-0.03442748,-0.042379215,-0.018153043,0.020875633,0.0036905706,0.009775411,0.012404463,-0.00084611,-0.034018323,-0.053113125,0.009328006,0.009566803,-0.018189332,0.01217485,-0.019899685,-0.036664277,-0.013112052,0.054908887,-0.02976962,0.0739943,0.032418527,0.011429551,-0.009604401,0.05253765,0.051490534,-0.023239648,0.057175115,-0.02798787,-0.014337752,-0.020730942,-0.021002725,-0.0031341095,-0.0036528101,0.025810435,0.0168042,-0.029533148,-0.043337803,-0.046244305,0.016609587,-0.07216244,0.01613297,-0.020376958,-0.011568172,0.008699008,0.03841445,0.046751987,-0.07049306,-0.0011562442,-0.005750232,0.023332188,-0.028463,0.023735667,-0.047552787,0.06395032,-0.00961492,-0.008962422,-0.06105303,-0.013778306,0.04389536,0.011906385,0.011454808,0.035540022,0.021635924,0.034523815,0.037518732,0.042336956,0.013085715,0.017354676,-0.0055623003,0.03417704,0.019818773,-0.010332085,0.045663808,0.065961294,0.033566922,0.007995299,0.018701445,-0.031354316,0.03184443,0.043287557,0.00414776,-0.0030756714,-0.016948879,-0.011665446,-0.0024489686,0.019415654,0.033339266,-0.011713313,-0.041833226,0.0333999,-0.008131719,-0.026174854,-0.015614588,0.0152664445,-0.021198971,0.03397529,0.017369306,0.010010081,0.0030847774,-0.0073530055,0.05313644,0.015936855,-0.028338995,0.032715928,-0.033052545,0.006879432,0.029605128,0.01776069,0.025762435,-0.042461388,0.008269272,0.049429774,-0.013570578,0.0023165864,-0.0042254184,0.029594451,0.06513364,0.053415775,0.023511749,-0.043190252,-0.0012565985,0.0856136,0.02013652,-0.012521221,-0.06235128,0.012745107,-0.053498846,0.02580157,0.0066119255,0.075145945,0.02340254,0.00472352,0.0020610385,0.005134872,0.014814491,-0.009114054,0.03020457,0.011169321,0.01203683,-0.018389104,-0.021457076,0.00600216,-0.04225151,-0.03929798,0.044521183,0.01831791,0.025846923,0.005152085,-0.08678264,0.012368425,0.0034923183,0.022632645,0.0030359256,0.03618698,0.027643979,-0.027080284,0.03380541,0.008932138,0.05377387,0.006575216,-0.037643213,0.027737226,-0.020742012,0.013882558,-0.0069191647,0.086382665,0.06337927,-0.021263283,0.040618632,0.0053794817,0.005763654,0.000095091564,0.013911458,0.009581927,-0.014429372,-0.030640744,-0.017805468,-0.0138164805,0.031655315,-0.007938897,0.010958232,-0.0043512555,0.019737972,-0.03667357,-0.044890575,0.043295898,-0.010607892,0.016153358,-0.047809597,-0.09057886,0.0032997513,0.027963476,0.032094665,0.014844586,0.0093277665,0.009593029,0.011845093,-0.05440091,0.038598787,0.0018993706,0.024743084,-0.045881618,-0.06298954,0.010021795,0.04607073,-0.05207118,0.0059908265,0.039268497,0.006187163,0.02311882,-0.01526717,-0.027719975,-0.015868193,-0.017449692,-0.025311342,-0.044111848,-0.030612227,0.009247318,-0.009727078,0.048131697,-0.0003221765,-0.040613577,0.038638096,0.057067063,0.050842725,-0.009600288,-0.016688686,-0.039993722,0.029821858,-0.029503612,0.015098244,0.059823852,-0.02088443,0.060504127,-0.03444015,-0.019129414,-0.015723934,-0.023815602,0.051020425,-0.023866346,-0.016535671,0.0046493593,-0.020137021,-0.026122589,0.009565781,0.037389223,0.04904547,-0.0039812867,-0.06181141,-0.018708795,0.007921396,0.04263282,-0.024264868,-0.027908761,0.067729466,-0.022304598,0.023592515,0.010250398,0.026507748,-0.024394976,0.061279364,-0.0037855792,0.014160758,0.024579404,0.0076320553,0.0028572204,-0.030249707,0.037863944,0.011652035,0.052140817,0.08573102,0.015661241,0.037586775,-0.035400122,-0.029560076,-0.009685783,-0.013958634,0.029858984,-0.054534744,-0.048053313,-0.008974798,-0.0060861665,-0.015233303,0.020366408,-0.039604176,-0.015963383,0.002012024,-0.008605496,0.043763258,-0.037619077,0.09415156,-0.010483238,-0.016771901,-0.021553561,-0.04133931,0.05260836,0.011339517,0.0011202056,-0.016800242,-0.060885068,0.014931089,0.039135374,0.008853631,-0.00852261,0.0013158559,0.10095191,0.0016408252,-0.008878004,0.012997131,0.024577737,0.06430332,-0.05027307,-0.027949369,0.005585644,-0.034496915,-0.0043997895,0.019456273,-0.05742129,-0.0015142064,-0.03611039,0.010850567,0.031607024,0.014588064,0.01551879,0.006845332,0.06088218,-0.021058125,0.0012053647,-0.044502046,-0.023737319,0.0017008408,0.008011787,0.0015096846,-0.008670437,0.0055108564,-0.038235303,0.010067392,-0.10543288,-0.03487566,0.0066696308,-0.027290476,-0.0077627925,0.013515647,0.040174976,0.03775642,0.020555189,-0.022572787,-0.0027715636,-0.011779343,-0.009703659,0.03199046,0.041244496,0.0021307762,-0.012032686,0.0068111233,0.014576442,-0.036770087,0.04200143,-0.02338612,0.0693746,0.0405222,0.043911595,-0.007491783,0.0014807882,-0.0102701085,0.058619555,-0.02426851,-0.034568932,0.08249763,0.045700856,-0.00091570086,0.0154623035,0.059924465,-0.011972651,0.03761702,-0.003914737,0.009262576,-0.109026834,-0.037842944,-0.056171447,-0.026205808,-0.04136669,-0.034809638,-0.042210642,0.00280001,0.006845679,-0.00453531,-0.046506558,0.00909384,-0.022232618,0.010719602,-0.044409513,-0.03912104,-0.005853521,0.0015805585,0.04522115,0.04020319,0.019903876,0.009621407,-0.01133907,-0.023494989,0.015903475,0.01931738,0.052352134,-0.03872709,0.009060142,-0.0389275,0.009664509,-0.027502375,-0.01825533,-0.054691758,-0.016032217,-0.012947244,0.019769816,0.021781314,0.0006525788,0.03056424,0.009901282,0.024886714,-0.00670646,0.000026277832,-0.083729975,-0.033105243,0.018811945,0.03366667,-0.03596601,-0.051444117,-0.007536009,-0.060432628,0.060706764,-0.0026990697,-0.07715029,-0.02160202,-0.06985963,0.02233413,0.0023029277,0.041153084,-0.008861997,0.017894523,0.022181042,0.00051053165,0.06503368,0.048474222,-0.017270314,-0.029568326,0.05667054,0.019896846,-0.012509307,0.0030791094,-0.057059933,0.021462591,-0.06969679,-0.01881362,-0.023850683,0.01124763,-0.038221195,0.044457763,-0.012323202,-0.053674784,-0.0075253914,-0.010171731,-0.020475876,0.0040045977,-0.018090189,-0.05475862,-0.06232007,-0.014407353,0.027337233,-0.0091497395,-0.01584485,-0.046973113,-0.043248735,-0.028308338,-0.056692515,-0.032937445,-0.0021748457,0.013106182,0.043721914,0.0033100208,0.07000318,-0.052381,0.027207239,-0.000023583232,-0.015800836,0.04238057,-0.00392752,0.03287608,-0.03477745,-0.04356419,0.06698393,0.036626775]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"46de30166a944358":{"spanId":"46de30166a944358","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353122257.9482,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your  flows. \\nAstra DB is an easy to use and powerful vector database, and it's even easier to use when all you need to do is configure the plugin in Genkit and reference indexers and retrievers. \\nYou can find the code for this app on GitHub. The Astra DB plugin for Genkit is open source so if you have any issues or requests, please open an issue on the GitHub repo. And check out the Genkit docs for more on what you can build with Genkit.Frequently Asked Questions (FAQ)\\nWhat is Astra DB?\\nAstra DB is a cloud-based NoSQL document store. It features an accurate and performant vector index for storing vectors which can be used for similarity searches. It comes with a Genkit plugin for integration with the Firebase Genkit framework.\\nWhat is Genkit?\\nGenkit is a framework for building generative AI applications. It provides essential tools such as models, prompts, indexers, retrievers,\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.0015221904,-0.016859049,-0.035111077,-0.024374707,0.009965938,0.05002942,0.089054145,-0.0037708126,0.013272045,-0.02444733,-0.01396841,0.031694505,0.0054094302,0.015505249,-0.05945116,-0.046176698,0.0029900197,0.018101009,-0.10777182,-0.024789112,-0.015557087,-0.00094276323,-0.043782692,0.0064719673,-0.0011870995,0.0010324112,0.054273304,0.049725045,-0.02834461,-0.024904868,-0.0023199224,0.00009496064,0.0025017469,-0.048512314,-0.043664776,-0.03314079,-0.01906667,0.009083051,0.022642115,-0.03816356,0.0076656193,0.012283975,-0.0011405655,0.057731364,0.06284012,0.00021267765,0.0034515639,0.09250513,-0.03657836,0.0077680117,0.044258885,-0.0010430705,0.010668829,0.023831919,0.008676287,-0.050283037,-0.013539267,0.025713999,0.098827675,0.026678339,-0.012286075,-0.009534178,-0.062350634,-0.0016994103,-0.011201875,-0.041728795,-0.016920889,-0.023125118,0.028797006,0.004438449,0.022200983,-0.014630645,-0.036921192,0.046897538,-0.0053229993,0.024042428,-0.024972359,-0.025022062,0.008231268,0.02381025,0.0013114664,-0.011734852,0.038136642,0.056483887,-0.015342895,-0.06866672,-0.066783175,-0.07844338,-0.044708278,-0.020646017,0.05507836,-0.023066385,0.026559675,0.069681875,0.013578828,-0.078195095,-0.04945912,-0.10793033,0.05024759,0.01948491,-0.030505957,0.017640812,-0.0034486817,-0.0063666566,0.024684062,0.009665849,-0.010372473,-0.013964913,-0.0536939,0.017413462,0.008125626,0.045045048,0.0047013164,-0.069777876,-0.03916506,0.005302465,-0.026207365,0.008266224,0.0019410697,0.029511094,0.0066677667,0.10003415,-0.005131174,0.077189386,0.101597205,0.03754129,0.04900368,-0.035901994,-0.04474372,-0.012659732,0.054095108,-0.022367787,-0.018925732,0.0069847675,0.0059914524,-0.050777867,0.046001736,0.016216855,0.05400798,0.027147114,-0.011007336,0.01960002,-0.070695855,0.015021474,-0.0072761546,-0.028884552,0.05200636,0.04422497,0.0069401837,0.032992043,0.018156733,0.008575495,-0.0064011966,0.019243363,-0.017869756,-0.05674273,0.05409405,-0.051341172,0.020397974,0.0016133958,0.012246977,-0.066161886,0.024894927,0.06155783,-0.027612614,-0.092562996,0.01480862,0.006016454,-0.02512528,-0.017158262,-0.015220086,0.008209945,-0.015761834,0.035101797,-0.0009259387,0.039963678,-0.0037450327,-0.08790793,0.0011516875,-0.028877424,0.12359206,0.021215597,-0.0054266825,-0.0672525,0.020689756,0.0038095387,-0.06767884,0.066882364,0.038355082,0.0585292,0.012713215,0.007303299,0.034015045,0.01325096,-0.008342124,-0.040022776,0.061178662,-0.045214657,0.02141168,0.00123861,-0.010149895,-0.02050837,0.0519859,-0.018251285,-0.061037537,-0.0731796,0.035571806,-0.022348257,0.040669885,0.03640236,-0.007981847,-0.030601285,-0.04828355,-0.038851142,-0.016898597,-0.0010755752,0.027920151,0.022532169,0.030928252,-0.0135344835,0.055359352,-0.044378787,-0.039442264,-0.00828986,0.0574917,0.026301049,-0.020098701,-0.0243867,-0.06819822,-0.008649351,0.03012463,0.008122044,0.023912797,0.016980357,-0.014064407,0.023310615,0.04226943,-0.10013691,0.04754899,0.01813433,-0.014885962,0.064386345,0.018496824,-0.013741385,0.033253778,-0.036999688,0.002399725,0.062664695,0.033702057,-0.037684415,-0.018141696,0.00347009,-0.022110004,-0.0047107968,0.0041450798,-0.04657963,0.032753114,-0.0039045902,-0.009873307,0.009092498,0.00919866,-0.04787893,-0.061158918,-0.05014594,-0.061732054,-0.042305276,-0.021748234,-0.009700793,0.07503846,-0.03332625,-0.0042836657,-0.019236496,-0.0607512,-0.03010786,0.011576018,0.023765875,-0.04155389,0.00013844308,0.0019169411,-0.0077235484,0.035116907,-0.030693451,0.054544244,-0.07025675,0.034656007,-0.024754917,-0.03321929,0.037308767,-0.011875923,0.0069345315,0.061224014,-0.012610539,-0.036177862,-0.030581942,0.016491216,0.029412664,0.07783417,0.040414333,-0.01566821,-0.026526608,0.04006714,0.035397906,-0.020796677,0.05941311,-0.050756667,0.0035954376,-0.039512407,-0.023988703,-0.053200252,-0.011896011,0.019107461,0.021368528,-0.033551108,-0.040180776,-0.0061156563,0.028133132,-0.073933646,-0.030261395,0.0066153146,0.019198723,-0.019041132,0.03606215,0.04332346,-0.056608573,-0.004545424,0.036300253,0.0320949,-0.02168404,0.013861145,0.0025726769,0.041905098,-0.050666224,0.010507699,-0.028990764,-0.02444613,0.064445615,-0.00445398,0.046660163,0.02169061,0.018187396,0.019843912,0.056524664,0.03539109,0.014094067,0.008769259,0.001554378,0.06325968,0.023198258,0.0071244775,-0.029011592,0.05603543,0.014812428,0.017333876,-0.012021438,-0.019181965,0.0033258435,-0.0044472106,-0.01587178,0.0075008655,-0.029458499,0.011477475,-0.00029774717,0.03590873,0.032965537,-0.004582544,0.0011097649,-0.0037585532,0.022883363,-0.016539851,-0.0026241345,-0.018612834,-0.036222424,0.0408131,0.001065297,0.046610285,-0.035277672,0.04265691,0.027755542,0.038304117,-0.036620103,0.03534278,-0.052824106,0.03944106,0.018954735,0.025596581,0.048425727,-0.0019297632,-0.043854088,0.016450455,-0.034530595,-0.01549597,0.028305331,0.0018606893,0.052528545,0.04956923,0.023042783,-0.06360091,0.05754143,0.08131047,0.0065562706,0.015624713,-0.017369699,-0.023413729,-0.062068023,-0.017600296,-0.029811947,0.07775158,0.0060800053,-0.00736419,0.026458673,-0.024482638,-0.031733908,-0.010854543,0.09115167,0.010537499,-0.012377833,0.04191249,-0.042722132,0.0013038944,-0.02327449,-0.014199769,0.013574903,0.021880623,-0.0044447538,0.0068438435,-0.0729776,-0.044107936,-0.028629718,0.005791517,0.029868588,0.019229392,0.024360284,-0.026485546,0.025766166,-0.0065596127,0.06408778,-0.00011581924,-0.05716918,0.05496604,-0.018345863,-0.0051411926,0.02508716,0.06762965,0.080732964,-0.036414877,0.048296303,0.031812355,0.005155836,-0.0069491486,-0.028530704,0.0016923608,0.008673276,0.00053319335,-0.040979285,-0.032417905,-0.016145676,-0.018150652,0.027566962,0.0024664712,-0.005589673,-0.042136103,-0.025956033,0.010613259,0.031649273,-0.011209796,-0.027540416,-0.049605306,-0.007012978,-0.012959829,0.020682594,0.027809463,0.008239651,0.035610586,0.016181776,-0.02487502,0.048189238,0.010133433,0.0242274,-0.01826801,-0.059240036,0.010568389,0.054278277,-0.04747174,0.015568534,0.002864626,-0.035734136,0.021280572,-0.008320586,-0.026257845,-0.04652878,-0.0082932785,-0.010738131,-0.016495775,-0.03292764,-0.020160662,0.009126915,0.081545115,-0.007622596,-0.014291915,0.045045882,0.0066520935,0.025074812,0.0057638222,-0.012879224,-0.01810694,0.046943728,-0.004670464,0.043046445,0.05076872,-0.0062015317,0.06187077,-0.0050840694,0.009520231,-0.0007503895,-0.0129752625,0.059183273,-0.05224423,-0.006083866,-0.02787366,-0.019791119,0.018436356,-0.04478155,0.058379255,0.001690097,-0.010603975,-0.028880417,-0.0501529,0.024180803,-0.016331892,0.025378391,-0.042213466,0.0187404,0.015145932,0.014660595,0.0013248703,0.05940854,0.0016337661,0.033145174,0.0017990319,0.021667704,-0.0066189496,-0.014414427,0.013463195,-0.028982768,0.012410145,-0.011069288,0.01041088,0.07234455,-0.021682413,0.060991954,0.02597761,-0.019546544,-0.0036432524,0.04196008,0.045701843,0.010565926,-0.041273914,0.0062487596,0.0082467,0.008900305,0.043543067,-0.014350912,0.0031095508,0.010755714,0.00096006086,0.015852375,-0.04863577,0.09505817,-0.024010487,-0.013260974,-0.060282983,0.00066053245,-0.014692468,0.00569299,-0.010148846,0.015431935,-0.004750462,0.024647145,0.026329203,-0.0151468385,-0.002446756,-0.0074045346,0.09369507,-0.021585194,-0.057407618,0.010409542,-0.007427333,0.050109193,-0.03459681,-0.012334599,0.014129581,-0.030243354,0.009195474,-0.021968113,-0.054840803,0.014855811,-0.041359577,0.04716845,0.044097196,0.019097056,-0.0013625744,-0.052050617,0.09179565,0.004950752,0.007617231,-0.0750776,-0.006602063,-0.008632827,-0.0049342336,-0.033797983,0.010591168,0.005934904,-0.010797876,-0.024558626,-0.07454415,-0.049068958,-0.020185115,0.018630777,-0.0052361763,0.05035842,0.019547215,0.048883494,0.05413764,-0.01595013,0.0041799084,0.017413432,-0.026943903,0.008534255,0.038407862,-0.00086688146,0.014898045,-0.0058251633,0.0139257535,-0.086128905,0.024504388,0.054028336,0.074321516,0.013796962,0.021483688,0.00034320238,-0.022387845,0.01025163,0.03177825,-0.03529463,-0.01860468,0.08002167,0.055809163,-0.026532143,0.0053728023,0.091700785,0.020453498,-0.00562893,-0.013402374,0.0061703217,-0.03338922,-0.035730112,-0.033869497,-0.009021563,-0.025792213,-0.019802535,-0.03835997,-0.0027468917,-0.0111983875,0.014473881,-0.02270897,0.029278029,-0.031616766,0.04054392,-0.021375442,-0.02164074,-0.0036119157,0.0073430487,0.07136849,0.026005419,0.020542158,-0.0017668867,0.0049458053,-0.044703655,0.009646762,0.024335483,0.03734344,0.012217295,-0.03252049,-0.012435858,0.037558127,-0.022025624,-0.03230816,-0.029129801,-0.016917648,-0.036491014,-0.03914224,0.017155102,-0.02876175,0.015323864,0.03273926,0.063436784,-0.0056548757,0.01382751,-0.060440265,-0.07256829,0.04233451,0.025531355,-0.0616278,-0.022347892,0.016383933,-0.019138465,0.022088647,0.00009340911,-0.11637749,-0.003869319,-0.029103413,0.015779348,0.013419037,0.04627096,-0.016054938,0.011796288,-0.013772793,0.023168743,0.056135807,0.020695858,0.052824758,-0.032767925,0.093682475,-0.027066832,0.00028289176,-0.008008694,-0.04183973,0.0034244736,-0.039799638,0.012920872,0.018802889,-0.05069949,-0.044588394,0.055234775,-0.0058867573,-0.034621846,-0.023863971,0.03383152,-0.02811382,0.01915992,-0.0070506637,0.0015472627,-0.019215064,0.00705299,0.026242888,-0.016564855,-0.048993226,-0.068277694,-0.060187303,-0.02584316,-0.026186049,-0.029906305,-0.00997346,0.044437464,0.03197974,-0.01374627,0.033228975,-0.019450694,0.02405423,0.013087221,-0.026843015,0.06823305,-0.03317508,0.049384415,-0.01339572,-0.03156895,0.07526045,0.061578475]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"ab021d0ee1f37640":{"spanId":"ab021d0ee1f37640","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353123489.9014,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" flows, traces, and evaluations. By using Genkit, developers can efficiently create applications that leverage the power of generative AI.\\nHow do I get started with building a RAG application using Genkit and Astra DB?\\nTo build a RAG application with Genkit and Astra DB, you need to create a database and collection within Astra DB and then install Genkit and related dependencies into your Node.js application. Once you've configured Genkit with your Astra DB credentials, you can start creating flows.\\nWhat does building the RAG application involve?\\nBuilding the RAG application involves creating a collection in Astra DB to store vectors, and setting up flows in Genkit to ingest data, and to generate responses based on context retrieved from the database. You can test these flows out using the Genkit UI.\\nDataStax AI Platform:The Fastest Way to Build and Deploy AI AppsTry For Free\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.0028461504,-0.017025284,-0.035703372,-0.039561253,0.007939622,0.031420425,0.11681735,0.010758002,0.023254495,-0.03623026,-0.049382344,0.04003487,0.02009249,0.012143777,-0.06566071,-0.02430665,0.008296419,0.0044714077,-0.094861835,-0.034241676,0.013919887,-0.00938773,-0.054346427,0.0014505702,0.03367909,-0.013938772,0.04111492,0.051263947,-0.0045318725,-0.03555487,0.027675696,-0.035321206,0.041661803,-0.014599924,-0.06819229,-0.0114446515,0.01818723,-0.0039608562,0.031300697,-0.029212913,0.006906265,0.029055445,0.019170914,0.077899404,0.059080802,-0.03866445,-0.028955042,0.06271536,-0.0703729,-0.007328977,0.047025852,-0.008157092,0.0013713873,-0.0015063279,-0.0021753204,-0.025171483,0.009886296,0.005816927,0.06786287,-0.0003254703,0.031616013,0.005698093,-0.017863516,0.015390587,-0.0037942135,0.0029853585,0.020685796,-0.0041662003,0.012142057,0.043870144,0.018097188,0.03026212,-0.021598795,0.03609135,0.033778187,0.06875918,-0.042416316,-0.0049323607,0.000006769958,0.019434892,-0.01642409,0.0013037461,0.057103343,0.029157622,-0.004761528,-0.073034585,-0.0053606676,-0.070407055,-0.027940929,-0.032076377,0.06808105,-0.019678252,0.017116738,-0.010679118,0.001694758,-0.051079657,-0.0488908,-0.091370784,0.061932907,0.03575805,-0.018321097,0.020542907,0.0026778942,-0.004691359,-0.0076839966,0.046078134,0.024614904,-0.014300803,-0.057178658,-0.0056156055,0.03293665,0.04203074,-0.02113693,-0.043658406,-0.045876198,0.028977167,-0.014531052,0.03815529,-0.045980033,0.0400693,0.023053251,0.072363086,0.0037416017,0.066518046,0.116506234,0.015661554,0.036488142,-0.021926107,-0.04705664,0.0004761482,0.08757949,-0.021706011,0.018451946,-0.0051957862,0.028700178,-0.016997423,0.05983474,0.018161947,0.017804837,0.0044432073,0.0033035092,-0.029338453,-0.0763524,-0.008278869,-0.031614065,-0.022688694,0.048101384,0.053730898,0.05480711,0.032198913,0.041110735,-0.031934217,-0.025052277,-0.031457946,-0.017379878,-0.03522863,0.03780494,-0.046374783,0.023907067,-0.0065571624,0.018599289,-0.06758685,0.010276655,0.04981543,-0.07088552,-0.080672234,0.020421615,-0.015052935,-0.029845113,-0.0022402147,-0.0011428823,0.019210171,-0.044228416,0.03551439,0.007748369,0.023153093,-0.009388755,-0.090083286,-0.0058061746,-0.027712837,0.122414514,0.031631544,-0.042042613,-0.05508792,0.006898914,0.048377324,-0.06802864,0.016194267,0.030467127,0.06553905,-0.0071128923,-0.0143923,0.028218608,0.02213327,0.008456685,0.00664527,0.05088008,-0.061909266,0.032473117,0.0061881477,0.00084939465,0.017413914,0.018812317,-0.031632796,-0.060360845,-0.054916833,0.06094714,-0.013151335,0.0054443846,0.046185855,-0.008132656,-0.0061590285,-0.06437882,-0.030337201,-0.0065996516,0.0073878164,0.015458555,0.029574757,0.02822516,-0.021916838,0.053811256,-0.029190268,-0.006868765,-0.008348785,0.07618083,0.03943522,-0.03282378,-0.008043214,-0.03366677,-0.022487637,0.012434777,0.023204094,0.015345938,0.04778057,-0.01723726,0.027482793,0.023244852,-0.074592516,0.043216936,0.013812721,-0.024540953,0.06285349,0.040965397,-0.013957813,0.046416625,-0.025506156,-0.009176915,0.052349444,0.011935609,-0.03663551,-0.04056547,-0.014428215,-0.030055393,0.0035758952,0.021280691,-0.020064434,0.02826868,0.009751644,0.0140189715,-0.0147963995,0.020295257,-0.012629879,-0.046003807,-0.05810399,-0.013415436,-0.07310156,0.014580674,0.015108586,0.027261069,-0.02750439,0.00977595,-0.00030988795,-0.05841714,-0.03673326,-0.0060480665,0.02400457,-0.030181749,-0.017753826,-0.008844847,-0.0020943466,0.033973623,-0.0434191,0.04185235,-0.034363583,0.041780952,-0.040066663,-0.036878705,0.051078096,-0.0050124624,-0.011638057,0.06337176,-0.016530635,-0.054861065,-0.06240696,0.012384399,0.00353544,0.058347464,0.031048456,-0.007851125,0.005403515,0.03076317,0.023728872,-0.028679412,0.05603964,-0.030610632,0.011570602,0.0020125702,-0.017345354,-0.015422165,-0.01311952,0.03895333,0.03789971,-0.030372221,-0.026269546,-0.015184563,0.046191692,-0.054392636,0.0041996106,0.014323356,-0.009121245,-0.00086180156,0.03666395,0.029949058,-0.0042302855,-0.0066540195,0.035691362,-0.0070459493,-0.02072542,0.014792021,0.019926036,0.092265055,-0.011560243,-0.053297766,-0.032867335,-0.0014351053,0.04048238,-0.021318514,0.03040074,0.012148994,0.008509737,0.031568747,0.033375304,0.055306494,0.035017036,0.0011312705,0.02976856,0.036538564,0.00014687222,-0.0009414454,0.000041594067,0.028640188,0.022785436,0.028457517,-0.009684057,-0.03883371,-0.0017750824,-0.014323523,0.0052812253,0.023135006,-0.011808296,-0.024648163,0.0065018833,0.014431106,0.047814682,-0.005262876,-0.029365841,0.010460846,-0.0046792678,0.005290944,-0.01747605,-0.04680875,-0.0074388236,0.0496711,0.003289512,0.049906924,-0.04875822,0.025337314,0.044631954,0.013144388,-0.056264035,0.03648576,-0.031859633,0.02262476,0.026895758,0.0013627522,0.03529238,0.004256088,-0.05176836,0.042526018,-0.026876234,-0.030707458,0.01969646,0.02582687,0.0257581,0.0382512,0.04173062,-0.049161308,0.06409471,0.07181204,0.014461215,0.01838511,-0.016335504,-0.00014215961,-0.09688498,-0.021954503,-0.005942118,0.10782672,0.04275033,-0.015277083,0.058660917,-0.042453904,-0.03712497,0.0016702071,0.07345238,0.014202918,-0.033437878,0.014988029,-0.041113593,0.0053085056,0.008944825,-0.0054797083,0.020115888,0.03938278,-0.012629332,0.0028835775,-0.07613743,-0.022415921,0.010120532,0.010764797,0.013211827,0.045973904,0.010957634,0.009104181,0.025803639,0.021942327,0.07157483,0.0042350655,-0.02997445,0.04974552,-0.0328988,0.015330908,0.003996377,0.0674788,0.042439107,-0.036681686,0.053100105,0.07708909,0.05650089,0.040934198,-0.017587317,0.0077742497,0.033647697,0.025622657,-0.022362787,-0.051892556,-0.002429275,-0.017391007,0.04519171,-0.009508983,0.009683147,-0.03409773,-0.020665124,0.03919139,-0.004819554,-0.0039672507,-0.04982799,-0.07929988,-0.018081706,-0.0032381206,0.00838359,0.023787735,0.008243777,0.019316517,-0.0065217647,-0.029749937,0.057568036,0.04246242,-0.0021593026,-0.033031832,-0.08424969,0.040442556,0.057018396,-0.024152305,0.04632207,0.017106438,-0.003960349,0.021120198,-0.014846846,-0.024862813,-0.07108708,-0.04526004,-0.008206608,-0.04074832,-0.05253367,-0.037256733,-0.010193429,0.064146094,-0.003972069,-0.0033792928,0.029829603,0.00716609,-0.0011938682,0.0035197565,0.013005741,-0.016213711,0.045799308,0.016452666,0.04317566,0.04245153,0.0010288081,0.03580147,-0.047972504,-0.038588054,0.0051121647,-0.021249613,0.06858023,-0.025548171,-0.03627636,-0.011468091,-0.004102961,0.020741722,0.00986741,0.036247436,0.02041108,-0.03197216,-0.03185602,-0.05808401,0.020572415,0.03272266,-0.006863232,-0.016950408,0.039982278,0.009019154,0.023111032,-0.020728758,0.0076264273,-0.031276885,0.048251845,0.02467594,0.017714433,0.024048194,0.0012151836,-0.0004124497,-0.013226378,-0.009579076,0.0017482234,0.00036496282,0.08033541,0.0076689734,0.013374022,0.035536926,-0.013779204,-0.04506483,0.024327261,0.033786472,0.009666675,-0.06953481,0.026968803,0.04534848,0.020690486,0.00784072,0.026170857,-0.0019214151,0.022799427,-0.005482386,0.058923192,-0.05229008,0.06917487,-0.021837233,-0.005460407,-0.032188732,-0.01700691,0.0056116143,0.012978876,-0.005631655,-0.00010682965,-0.043198656,0.005564122,0.02542289,-0.022279032,-0.0066460646,0.03220368,0.05387087,-0.03530735,-0.044944882,-0.011738485,0.011004111,0.032396432,-0.015055847,-0.05863706,0.0019124866,-0.021869715,0.028373092,-0.008976155,-0.033941235,0.024986105,-0.037600003,0.011731641,0.03048334,0.010685936,-0.021716926,-0.010248899,0.048451617,-0.02870279,-0.021167943,-0.03351029,-0.017146006,-0.00078773714,-0.0259796,-0.026678195,-0.0029003643,-0.007924534,0.014387677,-0.01382501,-0.13159049,-0.026458072,-0.050715838,0.043504927,-0.01353,0.020512119,0.01279384,0.035785876,0.026162054,-0.024873853,0.038285926,-0.051041216,-0.024286486,0.019504113,0.03215309,0.009864606,-0.0010353191,0.0047038477,0.0016473023,-0.026871385,0.06027777,0.0054564076,0.06496583,0.021563776,0.029329257,0.045413367,-0.027864456,0.026994424,0.027838841,-0.05233811,-0.045861147,0.06561775,0.0392364,-0.03358951,0.0144604035,0.06761586,0.011131097,0.03820735,-0.034349155,0.030961819,-0.110449314,-0.0055764415,-0.047574263,-0.0057400316,0.0022897094,0.0069061914,-0.07505405,-0.01614219,-0.016325379,-0.013825556,-0.036747273,0.021384161,-0.0060241767,0.040501747,0.0002163115,0.017724628,0.017594146,-0.0024931536,0.068686515,0.0061869295,0.0007946401,0.008119225,0.0038398313,-0.002157316,-0.018178366,0.029904803,0.02691652,-0.023018401,-0.034517217,-0.005535801,0.038524676,-0.0020003146,-0.04286072,-0.047094326,-0.004799555,-0.0050020553,0.0021851119,0.013806401,-0.022725588,0.011547917,0.024043852,0.045562238,-0.022377564,0.032394152,-0.11120229,-0.10248974,0.05108527,0.022829337,-0.0257365,-0.013320877,0.011397896,-0.018212164,0.028938454,-0.0060069584,-0.09420446,-0.00067554857,-0.048886783,0.0413071,0.044840574,0.051618878,-0.009310547,-0.008576548,0.025014948,0.039796997,0.063636854,0.0009599697,0.03380398,-0.056161113,0.09939776,-0.0007427875,0.011556712,-0.03575181,-0.03247389,-0.0018312113,-0.013705493,-0.019449785,-0.013088444,-0.01780076,-0.050353978,0.022132047,-0.0047173453,-0.05270095,-0.0104497,-0.02947035,-0.054629974,0.012088082,0.0029021336,-0.03731105,-0.0072737234,0.01925359,0.02795679,-0.016633095,-0.025340429,-0.044854373,-0.051009487,-0.02292014,-0.05141296,-0.012752404,0.019321775,0.046511192,0.04245716,-0.0082688695,0.024058748,-0.047063485,0.056747764,-0.0124059925,-0.012344017,0.08006185,-0.041483216,0.04608177,-0.0074339164,-0.015708681,0.041701637,0.043002736]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"2518786a3f9923b5":{"spanId":"2518786a3f9923b5","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353123497.429,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it  completes successfully. The ingestion pipeline is nice and easy to read as a flow. And using ai.run around the non-Genkit functions provides an extra level of tracing that we'll be able to see later.\\nThe Genkit UI\\nThis seems like a good time to test out what we've built so far. Open package.json and add a script to run your application code and one to start the Genkit server.Now you can run `npm run genkit` and open the Genkit UI in your browser at localhost:4000. You can either find your flow on the dashboard or by clicking on Flows in the sidebar and then selecting it from the list.\\nThis gives you a box to add some input. The input is the schema that we set up as the parameters to the flow. In this case, it just expects a string that’s a URL.\\nEnter a URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[0.04590218,0.017029364,-0.055331986,-0.03607975,0.043346398,0.008953686,0.07384294,0.016334362,0.0060974215,0.025686344,-0.030448431,0.06494777,0.014168099,-0.009974279,-0.018828109,-0.03091292,0.009708258,0.018219506,-0.061046608,0.0078052925,-0.0013569515,-0.020542225,-0.046069752,-0.018937232,0.014285017,0.0029524926,0.03740579,0.044434298,-0.0063063246,-0.0056888275,0.043096088,0.00854839,0.047461312,-0.043101016,-0.0024815088,-0.014066322,-0.007859362,-0.01194116,0.015287617,-0.030402277,-0.009401769,0.0147679625,-0.06809066,0.10319676,0.06896753,-0.0097637335,-0.06191337,0.061947037,-0.029274538,0.013649401,0.07254511,-0.011009109,-0.035133895,0.0025358067,0.03713566,0.0042013368,0.037596796,0.016903639,0.07104213,0.006629155,-0.0016859785,-0.024349235,0.020177374,-0.012065142,0.0020694537,-0.0728729,0.011187994,0.00041552685,-0.018354265,0.029694447,-0.010736934,0.05785734,-0.055235717,0.0015259308,0.03500055,0.049474195,-0.035019085,-0.0023123007,-0.02337209,0.010631041,0.013065184,-0.030737583,0.034741554,0.00019851171,-0.02535603,-0.018417846,-0.032024782,-0.038937863,-0.084578656,-0.0074498556,0.08637504,0.0010330685,0.02058852,-0.014450997,0.06479937,-0.014172917,-0.05426053,-0.10448169,0.04204166,0.008998546,0.008958407,-0.009550569,-0.0034352175,-0.028109264,0.015807297,-0.00052520377,-0.014153729,-0.0051853666,-0.06407493,-0.010475264,0.04357449,0.028076833,0.019479584,-0.027806384,-0.031321086,-0.006552775,-0.016071424,0.03230993,0.02193082,0.024205577,0.03793465,0.0507968,-0.04298175,0.10793363,0.116660975,-0.011675335,0.054691162,-0.002004273,-0.03500935,-0.07169224,0.039795008,-0.009755957,0.027076868,0.016121946,-0.014466505,0.033801816,0.022692302,0.016059192,0.030742716,0.042229045,0.009450943,0.0016232594,-0.0599388,-0.009534955,-0.023624117,0.016781937,0.033741314,0.07309866,0.015162013,0.021567995,0.035021406,0.023455417,-0.03054432,-0.0009175747,-0.064984106,-0.025314782,0.038815334,-0.031920824,-0.0048561203,0.018455684,0.00021521321,-0.06401269,0.02700879,0.073889054,-0.06678107,-0.09541476,0.042562135,0.000953725,0.01731732,-0.030313393,0.0031640169,-0.011048812,-0.038608536,0.01225117,0.0068879114,0.061579615,-0.004223117,-0.049540535,-0.037374277,0.0028566835,0.1285726,-0.008327412,-0.03855663,-0.04618049,-0.0018476663,0.03918613,-0.028605107,0.041731466,0.02825441,0.10159527,-0.009403043,0.015683344,-0.005938657,0.018018393,-0.042411506,-0.034784213,0.012914792,-0.032058988,0.006199485,-0.015071533,0.028695298,-0.02900504,-0.013847773,-0.027250059,-0.07393914,-0.054575626,-0.03117474,-0.039349865,-0.00092534773,0.0026289872,-0.061124,-0.04747722,-0.056940194,-0.06630288,0.015369595,0.0021396705,0.01810818,0.08739829,0.021727936,0.016912496,0.023039922,-0.004100156,-0.0050813137,0.01780407,0.048760053,0.047651358,-0.010878897,0.017201126,-0.08178439,-0.07033302,-0.020471666,0.018144839,0.0003180437,0.066927046,0.015392379,0.04860392,0.030854559,-0.053262483,-0.019823113,0.019412993,-0.0308552,0.034988422,0.023362245,0.009039825,0.017265394,-0.038209975,-0.011746351,0.07706066,0.0039618397,-0.009244434,-0.04438373,0.004822497,-0.020192832,0.043455996,0.01494488,-0.037885256,0.0025908628,-0.040225226,0.025144123,0.0026938973,0.009532499,-0.021499071,-0.070487246,-0.07748313,0.0031792016,-0.037874654,0.002057581,-0.011768351,0.035395235,-0.00452669,0.026934413,-0.0111680515,-0.04624789,-0.033956643,-0.035959575,0.025559438,-0.031005178,0.008773111,0.030957986,0.012495847,0.0017031368,-0.013436092,0.06504639,-0.011688805,0.06574602,-0.04088753,-0.047735818,0.010786909,-0.030482873,-0.0056092576,0.08481679,-0.032453045,-0.02218386,-0.10380506,0.024361314,0.028126612,0.04245851,0.053635806,0.00023285397,0.0010553082,0.06429165,0.026792511,0.019902175,0.0641928,-0.04570951,0.030496145,-0.02114657,-0.021434154,-0.004160766,-0.04028921,0.062328294,0.028117595,-0.00016988497,-0.02249258,-0.0076465574,0.03042171,-0.09665109,-0.043541543,-0.016475134,-0.03345175,0.0067506153,0.012383526,0.037681248,-0.044759188,-0.013956553,-0.026372703,0.0022413493,-0.032723896,-0.015746292,-0.022942534,0.06248948,-0.031354945,0.000650936,-0.018936368,0.00038009466,0.042084508,-0.031135866,0.010287953,0.022295391,0.008536973,-0.000581519,0.008745516,0.024755448,0.022338346,-0.0021508106,0.0136112245,0.051589288,-0.04080461,-0.0008234045,0.019867301,0.0015097942,0.012122251,0.049268667,0.012717912,-0.034235824,0.031594995,0.016615992,0.0021496029,0.0046642306,0.006415466,-0.01880948,-0.00013643713,0.011269428,0.05147204,-0.031402048,-0.0572807,-0.005164501,0.014996597,-0.020374581,-0.008191173,-0.011325661,-0.025330063,0.0067892577,0.028328603,0.029382572,-0.03418852,0.0127370125,0.034362685,0.023462577,-0.04687446,0.010509763,-0.029981088,-0.004231584,0.016952654,0.015833506,0.0214238,-0.022815283,-0.02393312,0.083066344,-0.012298082,-0.053659476,0.025924392,0.009695346,0.023974895,0.018277917,0.017074449,-0.04506275,0.078259684,0.045193788,0.004767679,-0.032459825,-0.02592024,0.035319712,-0.059281416,0.013369232,-0.0066248914,0.08351325,-0.003782721,-0.01438879,0.019397244,-0.0352965,-0.058721457,-0.025823632,0.08038292,-0.007423013,-0.004031765,0.01739871,-0.019871356,-0.0036473179,0.04052524,-0.049788125,-0.00089295715,0.018468153,-0.038243078,-0.016694456,-0.10306369,-0.033422988,0.00545228,0.047972206,0.002688319,0.02281329,0.034506805,-0.015043114,0.0027146414,-0.032778885,0.008588127,-0.018566469,-0.016612314,0.048751563,-0.028227976,0.032994706,0.013317037,0.06948832,0.04044925,-0.018494591,0.025885968,0.035281718,0.03084429,0.037380543,-0.019137386,0.010698065,0.033494826,0.013097996,-0.038691193,-0.034918282,0.01752525,-0.039299354,0.0072991885,-0.012223413,-0.029105863,-0.02017405,-0.04348819,0.039290328,-0.01155573,-0.031157915,-0.014348957,-0.06142525,0.028929211,-0.018602096,0.034334954,0.04463069,0.019577054,0.032534838,0.008655349,-0.021202313,0.08445058,0.043151155,-0.014992119,0.025000503,-0.009671735,0.028529698,0.07590249,-0.003683588,0.061949454,-0.017409584,-0.012674,0.018919764,-0.0044353055,0.00027597035,-0.035397604,-0.015371985,0.01136064,0.0125001455,-0.028954245,-0.017118424,-0.06486519,0.067257,0.0029856076,0.00014635593,0.043828916,0.026504092,0.0155521985,0.018827682,-0.014097994,-0.053683866,0.033646185,0.015982728,0.0041384017,0.062763415,0.051937398,0.090781845,-0.027042916,-0.05442536,0.01813286,-0.009620809,0.08235354,0.014623115,-0.016690472,0.001621002,0.006187511,-0.011661437,0.009917053,0.0023622494,-0.0029041807,-0.036661245,-0.0021377609,0.012391205,0.033014644,0.05475975,0.028714731,-0.02869056,0.10421879,0.033078156,0.013642303,0.0021569422,0.044581007,0.002466588,0.035642415,0.025366267,0.0021022754,-0.014029583,-0.00038552182,-0.02944367,-0.011591335,-0.027543953,0.013165261,0.013667737,0.083543554,0.013007952,0.021624852,-0.03749202,-0.009167959,-0.02910691,0.025079327,0.04012947,-0.017087096,-0.069877274,0.00974392,0.01590331,0.0030497806,0.010188997,-0.028686285,-0.039300043,0.0059797745,0.015492458,0.05363559,-0.021636376,0.044947337,-0.020304233,0.025485527,-0.006278242,-0.03924085,0.015825938,-0.01922858,-0.048707526,0.05015227,0.0031288136,0.018791886,0.020699816,0.030334385,-0.0069926586,0.016335728,0.012857375,-0.03567542,-0.023906618,0.0018192934,0.013020881,0.0009947785,0.0023040173,-0.036643256,-0.017873805,-0.019169962,0.027761307,-0.02281827,-0.021328561,-0.022532785,-0.06523134,0.042618554,0.013140465,-0.04465716,-0.013189212,-0.046126865,0.055419635,-0.0179947,-0.05931505,-0.038790435,-0.062274944,0.03149893,0.0038922408,0.05067913,0.03165207,0.017663145,-0.026441555,-0.028784532,-0.09550423,0.0012337392,-0.053448863,0.03378543,-0.023678279,0.014279435,0.060805954,-0.005186535,0.032662597,0.01506078,0.028048512,-0.014375641,-0.036219485,0.029925652,0.035192475,-0.008228516,-0.04867458,-0.003829429,-0.007552055,-0.05307752,0.019734867,0.000724553,0.072434865,-0.0041231657,0.03984101,0.03393354,-0.009080143,-0.010029891,0.02425237,-0.053705093,-0.039718047,-0.010957022,0.003190414,-0.019642064,0.028892394,0.02967823,-0.015626114,0.010720434,-0.028007898,0.018780667,-0.08519171,0.0010331982,-0.0550042,-0.019938562,0.01509924,0.00063826446,-0.011794314,-0.03399829,-0.019901302,0.047820505,-0.019996487,0.014070827,0.04365271,0.03984904,0.0029215794,-0.026212614,0.03224561,0.037018035,0.025342705,0.015847266,-0.016359514,-0.044118498,0.008594655,-0.0009869192,-0.011297798,0.057886828,0.005302163,-0.049029887,0.030055357,0.010283312,0.016542677,0.043653104,0.016041199,-0.07801469,-0.00477055,-0.011838645,0.013211127,0.009597151,-0.06898759,0.009603614,0.013550391,0.037268456,-0.017497996,-0.0041316585,-0.08781572,-0.0537834,0.009983833,0.02277936,-0.032566343,0.025711192,0.024399424,0.009954674,0.036260705,0.0064829746,-0.071048886,-0.045522746,-0.045761477,0.025518281,0.0651553,0.0038644306,0.008889763,-0.00045498967,0.017861146,0.018118188,0.01710634,0.026389465,0.019222543,-0.073320225,0.048242442,0.024031699,0.0071446327,-0.034989957,-0.03893836,0.004521683,-0.07673864,-0.011759575,-0.02192409,-0.038639437,-0.060594514,0.0458883,-0.02658888,-0.024139445,-0.019927105,-0.009536527,-0.051408302,-0.021943029,0.05915421,-0.038931407,-0.021537872,0.02181264,0.021038556,0.028664324,-0.03660856,-0.012077543,-0.046321966,-0.02536698,-0.04863033,-0.036601607,0.006192092,0.0076870467,0.042173132,0.010587612,0.010145462,-0.021096168,0.050849415,-0.0018548634,-0.0003207526,0.09020413,0.0002794654,0.049520742,-0.01552813,-0.04949265,0.01335963,0.060819753]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"d077a89ec03ea2d9":{"spanId":"d077a89ec03ea2d9","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"b9a474f9cf85df54","startTime":1752353121708,"endTime":1752353123503.535,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"embedder","genkit:name":"googleai/text-embedding-004","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action}/{googleai/text-embedding-004,t:action,s:embedder}","genkit:input":"{\"input\":[{\"content\":[{\"text\":\" search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,  let's grab data from the web. To ingest web data, we'll need to fetch it from a URL and then extract the main content from the returned HTML. I've written before about how I like to use Readability.js to parse out the content from a page, so we'll follow that. We'll also need something to turn the content into chunks, let's use llm-chunk for this as it's relatively simple.\\nInstall the dependencies:\\nImport them at the top of the script:Write a function that takes a URL, fetches the HTML content, extracts the content and returns it.\\nThe next thing to do is write our first Genkit flow to ingest data from a URL into the collection. Flows are functions that you can run via the Genkit UI or through code. Flows have strongly defined input and output schemas using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}],\"options\":{}}","genkit:output":"{\"embeddings\":[{\"embedding\":[-0.006385426,-0.015367663,-0.064250246,0.0023157047,0.03824629,0.030559935,0.05966738,0.0019052771,0.03292304,-0.0020387266,-0.035012893,0.025837973,0.022661032,0.030351734,-0.043814342,-0.051707886,0.004358276,0.007162052,-0.08187019,-0.023638068,-0.0010456851,0.00750165,-0.025346627,0.012556243,0.023702048,0.010858613,0.052588098,0.06084613,0.01596291,-0.00793166,0.031179618,-0.00466716,0.03991775,-0.043588903,-0.00513776,0.014126178,-0.027403502,-0.004884117,0.033595078,-0.067183465,-0.0010952068,0.027675256,-0.02242896,0.10078016,0.030807417,-0.0031323275,-0.00372474,0.011190534,-0.052403513,0.009782189,0.026221095,-0.02583709,-0.00048460817,-0.021846337,0.0015599264,-0.012171776,0.025418852,-0.008425151,0.05869266,-0.005342097,0.022537235,-0.03012239,0.003724825,0.006450598,0.0016210484,-0.06887585,0.0145827895,0.0054343943,-0.026968967,0.058145996,-0.0033817007,0.043896683,-0.020786135,0.053416174,0.02460058,0.04020705,-0.019009935,0.011810289,0.010302663,0.0026242263,-0.054175936,0.0018389169,0.069851436,0.013997473,0.027918683,-0.011026253,-0.019488648,-0.028968073,-0.04900234,-0.033607237,0.072381854,-0.0044292933,-0.025696442,0.01562765,0.049635015,-0.041390233,-0.063236505,-0.06882516,0.016837273,0.004387662,-0.031478144,0.008892039,0.08366737,-0.03156086,0.009309934,0.01932702,0.019227205,-0.012140101,-0.06279757,-0.027963296,0.030753585,0.031101279,0.023462374,-0.044159558,-0.058824074,-0.0058850376,0.007844863,0.03315224,-0.012911758,-0.027669983,0.020621646,0.054444343,-0.011643595,0.10745698,0.12805365,-0.023018835,0.054269593,0.002027954,-0.02174686,-0.03275459,0.074386664,-0.038537905,0.02889984,0.008548376,0.0040960056,-0.034805402,0.050567534,-0.022706363,0.018772777,-0.0069692656,0.004538954,-0.0152941635,-0.079008624,-0.006321179,0.010948622,-0.038052045,0.045580115,0.06552414,-0.009058227,0.0035912045,0.0059268014,0.0054074135,-0.03195904,-0.022531105,-0.029737541,-0.028842041,0.036620785,-0.046495665,0.019300263,0.017735712,0.047432274,-0.04379937,0.00786792,0.038198274,-0.075475596,-0.10309751,0.041491393,-0.046266295,0.0031761697,-0.011147987,-0.029774545,-0.045814976,-0.041515313,-0.0226968,0.019035937,0.024045233,-0.028681282,-0.023923235,-0.07018018,-0.010442059,0.11013186,-0.0037254093,-0.013979558,-0.063075766,-0.008048304,-0.010722446,-0.047426626,0.043944184,0.021746647,0.07302587,-0.034762714,0.00954737,-0.009252034,-0.0077664177,-0.046887398,-0.020206587,0.029118614,-0.069754094,-0.0033533615,-0.041703835,0.023676062,-0.030564744,-0.03790634,-0.055733006,-0.03839588,-0.018854327,0.014393879,-0.0038463313,0.026348878,0.042112682,0.00004589713,-0.019377444,-0.04988952,-0.059285216,-0.0085159335,0.0033141314,0.033811424,0.070775926,0.03519163,-0.022342086,0.033700112,-0.023517417,-0.027569167,0.00023509588,0.03708033,0.050298728,-0.035887916,-0.004814867,-0.037626125,-0.021686459,0.020666488,0.045756534,0.025823422,0.051378142,-0.0034817988,0.020886539,0.048675563,-0.07041517,0.024624284,-0.0007038543,-0.037468776,0.041571647,0.0364808,-0.020359531,0.041661974,-0.036994494,0.0025769253,0.06316687,-0.009860233,-0.024234202,-0.027092582,-0.022179822,-0.013621554,-0.012520702,-0.013366805,-0.022651166,0.016259665,-0.0038704067,0.015899695,-0.03367969,0.052393172,-0.029289573,-0.049156412,-0.044587944,-0.029528944,-0.055119123,-0.005073612,0.02740569,0.063591436,0.008243187,0.022858875,-0.006437281,-0.051948402,-0.03807613,-0.03109329,0.041786183,-0.0387137,-0.03082924,0.0017230604,0.002996722,0.052932758,-0.057636,0.04997401,-0.026670631,0.06278582,-0.03228941,-0.042964887,0.034088675,-0.013785203,-0.021238795,0.04333592,-0.00257205,-0.03892173,-0.07006907,0.028142737,-0.014321675,0.0370123,0.027492778,-0.0056758295,-0.012913178,0.037604835,0.057598624,0.058884956,0.06336759,-0.017541304,0.026473206,-0.0022270735,0.015266957,-0.019185398,-0.0013247334,0.072801426,0.064631045,-0.01729278,-0.013126955,-0.018329673,-0.0017473365,-0.14611302,-0.020319816,0.012131607,-0.036186952,-0.006198257,0.01361321,-0.02985282,-0.015561879,0.009754083,-0.02694417,0.02069579,0.00023605459,0.033230383,-0.01617078,0.055226643,-0.033965822,-0.012544628,-0.050220683,0.0070354,-0.0012458083,0.0021273827,0.056561135,0.033412363,0.04262452,0.045639835,0.046883535,0.03310052,0.05749213,-0.03131345,0.019787157,0.025382312,-0.039752483,-0.017609986,0.035108924,0.03156195,0.054328278,0.057888273,-0.014792355,-0.023252964,0.020426275,-0.0062954016,-0.018281752,0.0059587243,0.0031388968,-0.012525269,0.0197886,-0.007704333,0.08671334,-0.006430065,-0.04663937,0.052741464,0.015274109,-0.022815242,-0.011217041,-0.0049258335,0.026695767,0.04111048,0.017669832,0.017589957,-0.02813187,-0.009446333,0.032775186,0.014584002,-0.07632008,0.028956724,-0.053508963,0.023907883,0.004191458,-0.013912638,0.05275599,-0.0064499658,-0.0028228152,0.031831857,-0.038265016,-0.05605518,0.007819593,-0.009123444,0.0275754,0.022065315,0.032144338,-0.0478527,0.06672055,0.07010767,0.0066054557,0.022302238,-0.06144045,-0.057726562,-0.05560816,-0.009746856,-0.022127124,0.12983102,0.0056088497,-0.022570757,-0.010100317,-0.034608264,-0.047804117,-0.021403877,0.076503076,-0.018984081,0.009661757,0.030016428,-0.013271974,-0.016775446,0.028868612,-0.023761578,0.0076649515,0.04501152,-0.005345462,-0.009331966,-0.06316462,-0.055062797,-0.017252594,0.042846102,0.013658286,0.016223017,0.0038093494,-0.0049617765,0.03389399,-0.02566597,0.018040076,0.02200289,-0.03744553,0.026778704,-0.004249301,0.04419877,0.02322067,0.07464527,0.069363154,-0.029288167,0.08913334,0.030896265,-0.021659559,0.0061781695,-0.043986358,0.024513401,0.05339602,-0.02932306,-0.011645133,-0.046324328,0.0011893947,-0.012740817,0.035664488,-0.041272562,-0.05087098,-0.057088982,-0.045395214,0.06557711,0.022272823,-0.036912426,-0.015458307,-0.0665485,0.02614925,-0.0014344697,0.033431534,0.036520217,0.025431467,0.013930917,0.035281267,-0.030607374,0.096424654,-0.0011603191,0.022898266,0.01753048,-0.0063960915,0.01680448,0.04702801,-0.014015929,0.05518654,-0.0025940116,-0.0059410343,0.011886084,0.0024844855,-0.0032756205,-0.036672115,-0.038238823,0.008547227,-0.034177467,-0.013181362,-0.030846031,-0.026711373,0.032136414,0.01246353,0.0066143246,0.028667321,0.0042422013,0.008879933,-0.013809938,-0.002281746,-0.054692134,0.030569669,-0.03441613,0.0319432,0.021921087,-0.0013157967,0.058447108,-0.014662329,-0.010055201,0.016965766,-0.046356123,0.09434733,-0.047427736,-0.023840135,-0.017026562,0.018760994,0.0010985021,-0.007398266,0.050203156,0.022926152,-0.03110907,-0.04101081,-0.041727275,-0.023136716,0.045486223,-0.0013715114,-0.038805224,0.067074805,0.0076675345,0.006721602,0.025853733,0.04232195,0.009181435,0.045224562,0.023741921,0.002285692,-0.03200237,0.012337582,0.01064391,0.00013730144,0.00044458036,0.023237947,-0.031703535,0.07757857,-0.0298085,0.0427384,-0.025827711,-0.020439368,-0.038711034,0.042549286,0.0142663,-0.008164799,-0.056130297,0.012914459,0.034047455,0.005793577,0.03015386,-0.01599374,0.0025988363,0.005689985,0.015921313,0.0426021,-0.0141763715,0.07467821,-0.02973958,-0.019262271,0.01434882,-0.05446717,-0.008044212,-0.05601351,-0.018446492,0.012352899,-0.0021881433,-0.0036723623,0.034401335,-0.03166134,0.008320786,0.023033282,0.07884764,-0.043037288,-0.046851445,0.013549918,0.007219975,0.036886778,-0.01009629,-0.042733323,-0.007155381,-0.0142814405,-0.002064215,-0.0055429223,-0.0062545403,-0.007141179,-0.06717165,0.032977674,0.0073350673,0.019714283,-0.009193627,-0.0011381768,0.04183553,-0.023591116,-0.032326423,-0.034004156,-0.010500166,0.007999844,-0.010490628,0.010389984,0.013175488,0.017428262,-0.01839328,-0.014393658,-0.15226568,-0.0005274884,-0.04883563,0.03403353,-0.035880025,0.017401792,0.017542541,-0.0026848952,0.0137722595,-0.008526464,0.00019610088,-0.006490597,-0.030939369,0.020294234,0.03813441,-0.011198377,-0.019573005,-0.016698549,0.015412089,-0.03094897,-0.015085949,0.015506337,0.06054759,0.018435406,-0.01301733,0.050287697,0.011574646,0.00872691,0.02206034,-0.05278666,-0.032064546,0.008512509,0.029365085,-0.009067314,0.019787634,0.026028907,-0.032479458,0.023200365,-0.023291264,0.03811718,-0.073879704,-0.0077053066,-0.02892055,-0.0259245,0.009891714,-0.0032999904,-0.06163387,-0.024492899,-0.0023169962,0.033864174,-0.011422192,-0.0114642,-0.013757238,0.016719239,-0.01734204,0.011834374,0.019204978,0.031781245,0.031864185,0.06280023,-0.027774036,-0.026063599,-0.012385592,0.0026930124,-0.020531472,0.0302036,0.016459912,-0.008232566,-0.0035557742,-0.047857437,0.069437735,0.014210554,0.021399686,-0.050590187,-0.012158729,0.017970992,0.002861413,0.014247064,-0.06345615,0.021381674,0.011530055,0.030146014,-0.0067959796,0.050133366,-0.11529496,-0.074210465,0.017222542,0.021846995,0.012187411,-0.010211021,0.041613277,0.006340108,0.029149933,0.022108497,-0.10284833,-0.015949644,-0.034123037,0.039338708,0.051169783,0.03851659,0.0019160225,0.0004901297,-0.0187883,0.027509345,0.035331868,-0.0074998667,0.018474186,-0.048317444,0.0729717,0.0022751056,-0.038616568,-0.022995127,-0.028451152,-0.006905899,-0.0337525,-0.018555732,-0.018789839,-0.030118672,-0.034491464,0.047666337,-0.008827148,-0.03767348,-0.033181246,-0.032092698,-0.059597667,-0.01589968,0.04303302,0.004512741,-0.0033653036,0.040646724,0.018090175,-0.0147279585,-0.044327192,-0.025789673,-0.044474337,-0.041394707,-0.054949433,-0.051652648,0.003674042,0.009416704,0.053726614,-0.013687427,0.0039217677,-0.037564736,0.036566686,-0.021412397,-0.019244619,0.039384108,-0.0035368002,0.056436166,0.014374686,-0.023633614,0.03345299,0.025762493]}]}","genkit:state":"success"},"displayName":"googleai/text-embedding-004","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"b9a474f9cf85df54":{"spanId":"b9a474f9cf85df54","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","parentSpanId":"cc63e25baa899cd0","startTime":1752353121706,"endTime":1752353124727.403,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"indexer","genkit:name":"astradb/rag_app","genkit:path":"/{indexPage,t:flow}/{astradb/rag_app,t:action,s:indexer}","genkit:input":"{\"documents\":[{\"content\":[{\"text\":\"Today we announced the release of a plugin for Firebase's Genkit framework for building generative AI applications. Genkit is a powerful framework that provides the primitives for building production-quality GenAI applications. From easy access to models, prompts, indexers, and retrievers, to more advanced features like flows, traces, and evals, its power lies in making it easy to do the right thing while building GenAI applications.\\nIn this post, we'll take a look at how to use the Astra DB plugin for Genkit to build a retrieval-augmented generation application with Genkit.Building a RAG application\\nLet's build a RAG application from scratch and see how straightforward it can be with Genkit and Astra DB. First, you'll need a Gemini API key, which you can get from Google AI Studio.\\nYou’ll also need an Astra DB database to store your data and vectors; if you don't already have an account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" account you can sign up for a free DataStax account.\\nStart by creating a new Astra DB database; give it a name and choose a cloud and  region. This takes a couple of minutes, so carry on with the next steps while it starts up. Setting up the app\\nCreate a directory for your app and install the dependencies you'll need:\\nCreate a file to work in:Open index.ts and import the dependencies you installed:\\nIn this case, we're pulling in Google's text-embedding-004 model for creating vector embeddings, and the Gemini Flash 2.0 model for generation.\\nIt's about time to create a collection in which we can store our vectors. Hopefully your database has been created now, so head to the DataStax dashboard, choose your database, open the Data Explorer, and create a collection. Give the collection a name and choose \\\"Bring my own\\\" for the embedding generation method. The text-embedding-004 model creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" creates vectors with 768 dimensions (though you can choose fewer), so enter 768 for the number of dimensions and choose \\\"Cosine\\\" for  the similarity metric.Once you've created the collection, you'll need the API endpoint of the database, the collection name and to generate an API token. With those, create a .env file in your application and enter the credentials:\\nAlso in the .env file, enter your API key from AI Studio too:Now we can configure Genkit. In index.ts create the ai object like so:\\nThis sets up Genkit with the Google AI plugin for models and embeddings and the Astra DB plugin, configured with the credentials to access the collection you just created and the vector embedding model text-embedding-004.\\nWe can now access the Astra DB indexer and retriever via the reference functions:The indexer is used to store documents in the collection and the retriever is used to perform vector search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" search to return documents from the collection.\\nIngesting data\\nNow we can ingest some data into Astra DB. For this RAG application,  let's grab data from the web. To ingest web data, we'll need to fetch it from a URL and then extract the main content from the returned HTML. I've written before about how I like to use Readability.js to parse out the content from a page, so we'll follow that. We'll also need something to turn the content into chunks, let's use llm-chunk for this as it's relatively simple.\\nInstall the dependencies:\\nImport them at the top of the script:Write a function that takes a URL, fetches the HTML content, extracts the content and returns it.\\nThe next thing to do is write our first Genkit flow to ingest data from a URL into the collection. Flows are functions that you can run via the Genkit UI or through code. Flows have strongly defined input and output schemas using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" using zod.\\nFor this flow we'll accept a string which is a URL. There's no need for an output as the function will just end when it  completes successfully. The ingestion pipeline is nice and easy to read as a flow. And using ai.run around the non-Genkit functions provides an extra level of tracing that we'll be able to see later.\\nThe Genkit UI\\nThis seems like a good time to test out what we've built so far. Open package.json and add a script to run your application code and one to start the Genkit server.Now you can run `npm run genkit` and open the Genkit UI in your browser at localhost:4000. You can either find your flow on the dashboard or by clicking on Flows in the sidebar and then selecting it from the list.\\nThis gives you a box to add some input. The input is the schema that we set up as the parameters to the flow. In this case, it just expects a string that’s a URL.\\nEnter a URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" URL and run the flow. Once it's complete, you can open the DataStax dashboard and see the chunks and their vectors stored in the  collection. Back in the Genkit UI you can click on View trace and you’ll be shown each of the steps the flow took to fetch, chunk, embed and store the data.\\nHead back to the Genkit dashboard and open Retrievers from the sidebar. All we did to define the available retriever was set up the Astra DB plugin and export the astraDBRetrieverRef.\\nWe can already use that retriever from the Genkit UI. Click on the retriever and enter the following in the input:In the options, change the property k to 5. Run the retriever and it will perform a vector search using the text you provide in the input and returning five results from the database.\\nWe can now hook this up with a full RAG flow, in which we first retrieve context from the database and then pass it to a model to generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" generate a response. Open the code again and define another flow: Here we use the retriever to search for the string input, and  then pass the resulting documents as part of a prompt to the generate function that uses the Gemini Flash 2.0 model to perform the generation.\\nRestart the Genkit server, open up the Flows section and choose your RAG flow. You can now input a question, make sure it's relevant to the data you indexed, and Gemini will generate a relevant response based on the docs.Once again, you can hit the View trace button to see what happened at each stage in this request.\\nWe've only used these flows in the Genkit interface so far, but for either of the flows, you can run them like: Genkit and Astra DB make RAG easy\\nIt took us fewer than 100 lines of code to build the two major flows required for RAG: ingestion and generation. Firebase Genkit made it easy to test our implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" implementation as we went—without us having to build a UI for it. And the tracing in Genkit means it's easier to track down bugs in your  flows. \\nAstra DB is an easy to use and powerful vector database, and it's even easier to use when all you need to do is configure the plugin in Genkit and reference indexers and retrievers. \\nYou can find the code for this app on GitHub. The Astra DB plugin for Genkit is open source so if you have any issues or requests, please open an issue on the GitHub repo. And check out the Genkit docs for more on what you can build with Genkit.Frequently Asked Questions (FAQ)\\nWhat is Astra DB?\\nAstra DB is a cloud-based NoSQL document store. It features an accurate and performant vector index for storing vectors which can be used for similarity searches. It comes with a Genkit plugin for integration with the Firebase Genkit framework.\\nWhat is Genkit?\\nGenkit is a framework for building generative AI applications. It provides essential tools such as models, prompts, indexers, retrievers,\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}},{\"content\":[{\"text\":\" flows, traces, and evaluations. By using Genkit, developers can efficiently create applications that leverage the power of generative AI.\\nHow do I get started with building a RAG application using Genkit and Astra DB?\\nTo build a RAG application with Genkit and Astra DB, you need to create a database and collection within Astra DB and then install Genkit and related dependencies into your Node.js application. Once you've configured Genkit with your Astra DB credentials, you can start creating flows.\\nWhat does building the RAG application involve?\\nBuilding the RAG application involves creating a collection in Astra DB to store vectors, and setting up flows in Genkit to ingest data, and to generate responses based on context retrieved from the database. You can test these flows out using the Genkit UI.\\nDataStax AI Platform:The Fastest Way to Build and Deploy AI AppsTry For Free\"}],\"metadata\":{\"url\":\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"}}]}","genkit:state":"success"},"displayName":"astradb/rag_app","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"cc63e25baa899cd0":{"spanId":"cc63e25baa899cd0","traceId":"b17fbfaf1cc8280e4d93efc00c2666ba","startTime":1752353120425,"endTime":1752353124728.089,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"indexPage","genkit:isRoot":true,"genkit:path":"/{indexPage,t:flow}","genkit:input":"\"https://www.datastax.com/blog/rag-powered-chat-bot-genkit-astra-db#ingesting-data-2\"","genkit:state":"success"},"displayName":"indexPage","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"indexPage","startTime":1752353120425,"endTime":1752353124728.089}